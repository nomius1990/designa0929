define(["jquery","LazyLoad","popup","magestore/flexslider","carousel","Magefan_Blog/js/masonry.pkgd.min","bridget","mage/mage","ajaxScroll","touchSwipe","mage/storage"],function(e,t,o,n,i,a,s,r,l,c,d){"use strict";var y=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}}(e),k=(f(t),f(o),f(n),f(i),f(a)),b=f(s),C=(f(r),f(l),f(c),f(d));function f(e){return e&&e.__esModule?e:{default:e}}y(function(){var i=0,s={},a="iframe",o="popup",e="loose",r="html5",t=window.lazyLoad,n=window.validate,l=window.ajaxscroll,c=window.pwa,d=window.flexSlider||[],f=function(e){if(!e.length)return!1;var t=window.quickView.baseUrl+"weltpixel_quickview/index/updatecart",o=parseInt(window.quickView.showMiniCart);window.quickView.showMiniCartFlag=!1,y.magnificPopup.open({items:{src:e},type:"iframe",closeOnBgClick:!1,preloader:!0,tLoading:"",callbacks:{open:function(){y(".mfp-preloader").css("display","block")},beforeClose:function(){y('[data-block="minicart"]').trigger("contentLoading"),y.ajax({url:t,method:"POST"})},close:function(){y(".mfp-preloader").hide()},afterClose:function(){window.quickView.showMiniCartFlag&&o&&(y("html, body").animate({scrollTop:0},"slow"),setTimeout(function(){y(".block-minicart").is(":visible")||y(".action.showcart").trigger("click")},1e3))}}})};function u(e){return(e=e||window.event).preventDefault?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1}window.innerWidth<=640&&(document.addEventListener&&document.addEventListener("DOMMouseScroll",u,!1),window.onmousewheel=document.onmousewheel=u),y(".lazy").lazyload({offset:t.offset,offsetVertical:t.offsetVertical,offsetHorizontal:t.offsetHorizontal,offsetTop:t.offsetTop,offsetBottom:t.offsetBottom,offsetLeft:t.offsetLeft,offsetRight:t.offsetRight,throttle:t.throttle,effec:t.effect,debounce:t.debounce,unload:t.unload,delay:t.delay,callback:function(e,t){var o=y(e).parent();y(e).removeClass("lazy").addClass("loaded"),o.hasClass("poster")&&y(e).next().addClass("loaded")}}),y(".lazy-bg").lazyload({offset:t.offset,offsetVertical:t.offsetVertical,offsetHorizontal:t.offsetHorizontal,offsetTop:t.offsetTop,offsetBottom:t.offsetBottom,offsetLeft:t.offsetLeft,offsetRight:t.offsetRight,throttle:t.throttle,effec:t.effect,debounce:t.debounce,unload:t.unload,delay:0,callback:function(e,t){y(e).removeClass("lazy-bg").addClass("loaded")}}),(0,b.default)("masonry",k.default,y),y(".waterfall").masonry({itemSelector:".grid",gutter:30,percentPosition:!0}),y(".owl-blog").owlCarousel({items:4,lazyLoad:!0,loop:!0,nav:!0,margin:30,dots:!1,autoplay:!0,autoplayTimeout:7e3,navText:['<svg class="icon" aria-hidden="true"><use xlink:href="#icon-left"></use></svg>','<svg class="icon" aria-hidden="true"><use xlink:href="#icon-right"></use></svg>'],responsive:{0:{items:1,nav:!1,dots:!1},640:{items:2,nav:!1,dots:!1},768:{items:2,dots:!0},1200:{items:3,dots:!0},1440:{items:4,dots:!1}}}),y(".owl-comparison").owlCarousel({items:4,lazyLoad:!0,loop:!1,nav:!0,dots:!1,autoplay:!1,navText:['<svg class="icon" aria-hidden="true"><use xlink:href="#icon-left-square"></use></svg>','<svg class="icon" aria-hidden="true"><use xlink:href="#icon-right-square"></use></svg>'],responsive:{0:{items:1},460:{items:2},900:{items:3},1200:{items:4}}}),y(".owl-review").owlCarousel({items:3,lazyLoad:!0,loop:!1,nav:!0,dots:!1,autoplay:!0,autoplayTimeout:4e3,navText:['<svg class="icon" aria-hidden="true"><use xlink:href="#icon-left-square"></use></svg>','<svg class="icon" aria-hidden="true"><use xlink:href="#icon-right-square"></use></svg>'],responsive:{0:{items:1},460:{items:2},900:{items:3},1200:{items:3}}}),y(".owl-theme").owlCarousel({items:4,lazyLoad:!0,loop:!1,nav:!0,dots:!0,autoplay:!0,autoplayTimeout:5e3,navText:['<svg class="icon" aria-hidden="true"><use xlink:href="#icon-left-square"></use></svg>','<svg class="icon" aria-hidden="true"><use xlink:href="#icon-right-square"></use></svg>'],responsive:{0:{items:1},460:{items:2},900:{items:3},1200:{items:4}}}),y(".print").on("click",function(e){y(".checkout-detail").printArea({mode:"iframe",popClose:!0})}),y(".stamp").on("click",function(e){y(".table-wrapper").printArea({mode:"iframe",popClose:!0})}),y(".show-detail").on("click",function(e){var t=y(e.currentTarget);t.hasClass("active")?(t.removeClass("active"),y(".checkout-body").slideDown()):(t.addClass("active"),y(".checkout-body").slideUp())}),y("body").on("click",".weltpixel-quickview",function(e){var t=y(e.currentTarget).attr("data-quickview-url");t.length&&f(t)}),void 0!==n&&(n.enabled?n.ignore=":hidden:not("+n.ignore.ignore+")":n.ignore=n.ignore?":hidden:not("+n.ignore+")":":hidden",y(".create-individual").mage("validation",{ignore:n.ignore}).find("input:text").attr("autocomplete","off"),y(".create-enterprise").mage("validation",{ignore:n.ignore}).find("input:text").attr("autocomplete","off")),y(".tab-link").on("click",function(e){var t=y(e.currentTarget),o=t.data("toggle");t.hasClass("active")||(t.addClass("active").siblings().removeClass("active"),y("."+o).addClass("active").siblings().removeClass("active"),y(".create-"+o).validation("clearError"))}),y(".close-banner").on("click",function(e){y(".banner").slideUp("slow"),y(".page-wrapper").removeClass("fixed")}),y(".cos.item").swipe({swipeLeft:function(e,t,o){y(e.currentTarget).addClass("swipe")},swipeRight:function(e,t,o){y(e.currentTarget).removeClass("swipe")},swipeUp:function(e,t,o){var n=document.documentElement.scrollTop||document.body.scrollTop;y("html, body").animate({scrollTop:n+2*o},500)},swipeDown:function(e,t,o){var n=document.documentElement.scrollTop||document.body.scrollTop;y("html, body").animate({scrollTop:n-2*o},500)},threshold:0,fingers:"all"}),0<d.length&&y.each(d,function(e,t){var o=t.htmlId,n=t.flex_one,i=t.flex_two,a=t.flex_three;switch(t.style){case n:y("."+o).flexslider({animation:t.animation,slideshowSpeed:t.speed,prevText:'<svg class="icon" aria-hidden="true"><use xlink:href="#icon-left"></use></svg>',nextText:'<svg class="icon" aria-hidden="true"><use xlink:href="#icon-right"></use></svg>'});break;case i:y("."+o).flexslider({animation:t.animation,controlNav:"thumbnails",slideshowSpeed:t.speed,prevText:'<svg class="icon" aria-hidden="true"><use xlink:href="#icon-left"></use></svg>',nextText:'<svg class="icon" aria-hidden="true"><use xlink:href="#icon-right"></use></svg>'});break;case a:y("#"+o+"-carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!0,slideshow:!0,itemWidth:210,itemMargin:5,asNavFor:"#"+o}),y("#"+o).flexslider({animation:t.animation,controlNav:!1,animationLoop:!0,slideshow:!0,sync:"#"+o+"-carousel",slideshowSpeed:t.speed});break;default:y("."+o).flexslider({animation:"slide",animationLoop:!0,itemWidth:400,slideshow:!0,itemMargin:5,minItems:2,maxItems:4})}}),y(".blog-flexslider").flexslider({animation:"slide",itemWidth:460,itemMargin:65,slideshowSpeed:5e3,move:1,slideshow:!1,animationLoop:!0,mousewheel:!0,controlNav:!1,directionNav:!1});var p=function(){var e=window.innerWidth,t=document.documentElement.scrollTop||document.body.scrollTop,o=Math.abs(y(".magestore-bannerslider").height()-y(".inner-wrapper").height()),n=y(".page-main").offset().top+y(".page-main").height();o<=t?(y(".page-header").addClass("active"),y(".website").fadeIn("slow")):(y(".page-header").removeClass("active"),y(".website").fadeOut("slow").removeClass("open")),n<=t&&767<e?(y(".quick-add").addClass("active"),y(".action.pop").addClass("show")):(y(".quick-add").removeClass("active"),y(".action.pop").removeClass("show"))};p(),y(window).on("scroll resize",function(){p()}),y(".cart-add").on("click",function(e){var t=y(e.currentTarget).next(),o=parseInt(t.val())+1,n={item_id:t.attr("id"),item_qty:o};y(e.currentTarget).hasClass("cart")?h(n,t,o):t.val(o)}),y(".cart-minus").on("click",function(e){var t=y(e.currentTarget).prev(),o=parseInt(t.val())-1,n={item_id:t.attr("id"),item_qty:o};y(e.currentTarget).hasClass("cart")?h(n,t,o):0<o&&t.val(o)});var h=function(e,t,o){e=y.extend(e,{form_key:y.mage.cookies.get("form_key")}),C.default.post("checkout/sidebar/updateItemQty/",e,!0,"application/x-www-form-urlencoded").done(function(e){e.success&&0<o&&t.val(o)}).fail(function(e){console.error(JSON.stringify(e))})};document.addEventListener("touchmove",function(e){y(".website").removeClass("open")},!1),y.fn.printArea=function(e){var t="printArea_";y.extend(s,{mode:a,standard:r,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!1,extraCss:"",extraHead:"",retainAttr:["id","class","style"]},e),i++,y("[id^="+t+"]").remove(),s.id=t+i;var o=y(this),n=m.getPrintWindow();m.write(n.doc,o),setTimeout(function(){m.print(n)},1e3)};var m={print:function(e){var t=e.win;y(e.doc).ready(function(){t.focus(),t.print(),s.mode==o&&s.popClose&&setTimeout(function(){t.close()},2e3)})},write:function(e,t){e.open(),e.write(m.docType()+"<html>"+m.getHead()+m.getBody(t)+"</html>"),e.close()},docType:function(){return s.mode==a?"":s.standard==r?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(s.standard==e?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(s.standard==e?"loose":"strict")+'.dtd">'},getHead:function(){var t="",o="";return s.extraHead&&s.extraHead.replace(/([^,]+)/g,function(e){t+=e}),y(document).find("link").filter(function(){var e=y(this).attr("rel");return"undefined"===y.type(e)==0&&"stylesheet"==e.toLowerCase()}).filter(function(){var e=y(this).attr("media");return"undefined"===y.type(e)||""==e||"print"==e.toLowerCase()||"all"==e.toLowerCase()}).each(function(){o+='<link type="text/css" rel="stylesheet" href="'+y(this).attr("href")+'" >'}),s.extraCss&&s.extraCss.replace(/([^,\s]+)/g,function(e){o+='<link type="text/css" rel="stylesheet" href="'+e+'">'}),"<head><title>"+s.popTitle+"</title>"+t+o+"</head>"},getBody:function(e){var i="",a=s.retainAttr;return e.each(function(){for(var e=m.getFormData(y(this)),t="",o=0;o<a.length;o++){var n=y(e).attr(a[o]);n&&(t+=(0<t.length?" ":"")+a[o]+"='"+n+"'")}i+="<div "+t+">"+y(e).html()+"</div>"}),"<body>"+i+"</body>"},getFormData:function(e){var t=e.clone(),n=y("input,select,textarea",t);return y("input,select,textarea",e).each(function(e){var t=y(this).attr("type");"undefined"===y.type(t)&&(t=y(this).is("select")?"select":y(this).is("textarea")?"textarea":"");var o=n.eq(e);"radio"==t||"checkbox"==t?o.attr("checked",y(this).is(":checked")):"text"==t||""==t?o.attr("value",y(this).val()):"select"==t?y(this).find("option").each(function(e){y(this).is(":selected")&&y("option",o).eq(e).attr("selected",!0)}):"textarea"==t&&o.text(y(this).val())}),t},getPrintWindow:function(){switch(s.mode){case a:var e=new m.iframe;return{win:e.contentWindow||e,doc:e.doc};case o:var t=new m.popup;return{win:t,doc:t.doc}}},iframe:function(){var e=s.id,t=void 0;try{t=document.createElement("iframe"),document.body.appendChild(t),y(t).attr({style:"border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;",id:e,src:"#"+(new Date).getTime()}),t.doc=null,t.doc=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:t.document}catch(e){throw e+". iframes may not be supported in this browser."}if(null==t.doc)throw"Cannot find document.";return t},popup:function(){var e="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";e+=",width="+s.popWd+",height="+s.popHt,e+=",resizable=yes,screenX="+s.popX+",screenY="+s.popY+",personalbar=no,scrollbars=yes";var t=window.open("","_blank",e);return t.doc=t.document,t}},g={debug:!1,_log:function(e){},init:function(){var e={item:l.item,container:l.container,next:l.next,pagination:l.pagination,parameter:l.parameter,delay:600,negativeMargin:l.negativeMargin,history:{prev:".prev"},noneleft:{text:l.noneText,html:'<div class="ias-noneleft">{text}</div>'},spinner:{src:l.loaderSrc,html:'<div class="ias-spinner"><img src="{src}"/>'+l.loaderHtml+"</div>"},trigger:{text:l.triggerText,html:'<div class="ias-trigger ias-trigger-next"><a>{text}</a></div>',textPrev:l.textPrev,htmlPrev:'<div class="ias-trigger ias-trigger-prev"><a>{text}</a></div>',offset:l.offset}};window.ias_config&&y.extend(e,window.ias_config),g._log({extension:"ias",config:e}),window.ias=y.ias(e),g._log({extension:"paging"}),window.ias.extension(new IASPagingExtension),g._log({extension:"spinner"}),window.ias.extension(new IASSpinnerExtension(e.spinner)),g._log({extension:"noneleft"}),window.ias.extension(new IASNoneLeftExtension(e.noneleft)),g._log({extension:"trigger"}),window.ias.extension(new IASTriggerExtension(e.trigger)),window.ias.on("scroll",function(e,t){g._log({eventName:"scroll",scrollOffset:e,scrollThreshold:t})}),window.ias.on("load",function(e){g._log({eventName:"load",event:e})}),window.ias.on("loaded",function(e,t){g._log({eventName:"loaded",data:e,items:t})}),window.ias.on("render",function(e){g._log({eventName:"render",items:e}),y(e).find(".lazy").lazyload({offset:t.offset,offsetVertical:t.offsetVertical,offsetHorizontal:t.offsetHorizontal,offsetTop:t.offsetTop,offsetBottom:t.offsetBottom,offsetLeft:t.offsetLeft,offsetRight:t.offsetRight,throttle:t.throttle,effec:t.effect,debounce:t.debounce,unload:t.unload,delay:t.delay,callback:function(e,t){y(e).removeClass("lazy").addClass("loaded")}})}),window.ias.on("noneLeft",function(){g._log({eventName:"noneLeft"})}),window.ias.on("next",function(e){g._log({eventName:"next",url:e})}),window.ias.on("ready",function(){g._log({eventName:"ready"})})}};void 0!==l&&g.init(),y.fn.simulateSelect=function(i){i=y.extend({event:"click",target:"#sorter"},i);var a=y(this);a.on(i.event,function(e){var t=y(e.currentTarget);t.hasClass("on")?(t.removeClass("on"),a.find(i.container).slideUp("fast")):(t.addClass("on"),a.find(i.container).slideDown("fast"))}),a.on(i.event,i.container+"> li",function(e){e.stopPropagation();var t=y(e.currentTarget).find("p"),o=t.text(),n=t.attr("key");a.find(i.link).text(o),a.find(i.container).hide(),y(i.target).find('option[value="'+n+'"]').attr("selected",!0),y(i.target).trigger("change")})},y.fly=function(e,t){var d={autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:y.noop},o=this,f=y(e);o.init=function(e){this.setOptions(e),this.settings.autoPlay&&this.play()},o.setOptions=function(e){this.settings=y.extend(!0,{},d,e);var t=this.settings,o=t.start,n=t.end;f.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=n.width&&null!=n.height&&y.extend(!0,o,{width:f.width(),height:f.height()});var i=Math.min(o.top,n.top)-Math.abs(o.left-n.left)/3;i<t.vertex_Rtop&&(i=Math.min(t.vertex_Rtop,Math.min(o.top,n.top)));var a=Math.sqrt(Math.pow(o.top-n.top,2)+Math.pow(o.left-n.left,2)),s=Math.ceil(Math.min(Math.max(Math.log(a)/.05-75,30),100)/t.speed),r=o.top==i?0:-Math.sqrt((n.top-i)/(o.top-i)),l=(r*o.left-n.left)/(r-1),c=n.left==l?0:(n.top-i)/Math.pow(n.left-l,2);y.extend(!0,t,{count:-1,steps:s,vertex_left:l,vertex_top:i,curvature:c})},o.play=function(){this.move()},o.move=function(){var e=this.settings,t=e.start,o=e.count,n=e.steps,i=e.end,a=t.left+(i.left-t.left)*o/n,s=0==e.curvature?t.top+(i.top-t.top)*o/n:e.curvature*Math.pow(a-e.vertex_left,2)+e.vertex_top;if(null!=i.width&&null!=i.height){var r=n/2,l=i.width-(i.width-t.width)*Math.cos(o<r?0:(o-r)/(n-r)*Math.PI/2),c=i.height-(i.height-t.height)*Math.cos(o<r?0:(o-r)/(n-r)*Math.PI/2);f.css({width:l+"px",height:c+"px","font-size":Math.min(l,c)+"px"})}f.css({left:a+"px",top:s+"px"}),e.count++;var d=window.requestAnimationFrame(y.proxy(this.move,this));o==n&&(window.cancelAnimationFrame(d),e.onEnd.apply(this))},o.destroy=function(){f.remove()},o.init(t)},y.fn.fly=function(e){return this.each(function(){null==y(this).data("fly")&&y(this).data("fly",new y.fly(this,e))})},y(".link-faq").on("click",function(e){var t=y(e.currentTarget).parent();t.hasClass("open")?(t.find(".menu").slideUp("slow"),t.removeClass("open")):(t.find(".menu").slideDown("slow"),t.addClass("open"))}),y(".open-filter").on("click",function(e){var t=y(e.currentTarget);t.parent().hasClass("slide")?t.parent().removeClass("slide"):t.parent().addClass("slide")}),y(".sorter-filter").on("click",function(e){var t=y(".sidebar");t.hasClass("slide")?t.removeClass("slide"):t.addClass("slide")}),y(".close-filter").on("click",function(e){y(".sidebar").removeClass("slide")}),y(".myboard-link").on("click",function(e){var t=y(e.currentTarget).parent();t.hasClass("board-collapse")?t.removeClass("board-collapse"):t.addClass("board-collapse")}),y(".footer-links").on("click",".item",function(e){var t=y(e.currentTarget);t.hasClass("open")?t.removeClass("open"):t.addClass("open")}),y(".drop").on("click",function(e){var t=y(e.currentTarget).parent().parent();t.hasClass("on")?t.removeClass("on"):t.addClass("on")}),y(".values").on("click",".lb",function(e){var t=y(e.currentTarget).parent();t.hasClass("on")?t.removeClass("on"):t.addClass("on")}),y(".show-all").on("click",function(e){y(e.currentTarget).parent().addClass("open")}),y(".btn-quick").on("click",".cart",function(e){y("body").addClass("overflow")}),y(".btn-quick").on("click",".checkout",function(e){var t=y(".quick-add form");y('<input type="hidden" name="checkout" value="1" />').appendTo(t),y("body").addClass("overflow")}),y(".btn-group").on("click",".cancel",function(e){y(e.currentTarget).closest("form").find("input[name=checkout]").remove(),y("body").removeClass("overflow")}),y(".action.pop").on("click",function(e){var t=y(".quick-add");t.hasClass("close")?(y(e.currentTarget).removeClass("cl"),t.slideDown().removeClass("close")):(y(e.currentTarget).addClass("cl"),t.slideUp().addClass("close"))}),y(".sorter-simulate").simulateSelect({link:"cite",container:".sorter-layer"}),y(".action.tocheckout").on("click",function(e){var t=y(e.currentTarget).closest("form");y('<input type="hidden" name="checkout" value="1" />').appendTo(t),t.addClass("checkout").submit()}),y(".read-more").on("mouseenter",function(e){y(e.currentTarget).next().addClass("show")}).on("mouseleave",function(e){y(e.currentTarget).next().removeClass("show")});var v=function(){var n=window.innerWidth,e=y(".banner-img");y.each(e,function(e,t){var o=null;o=n<=767?y(t).data("mobile"):767<n&&n<=1024?y(t).data("pad"):y(t).data("pc"),y(t).attr("src",o)})};if(v(),y(window).on("resize",function(){v()}),void 0!==window.__lc){var w=document.createElement("script"),x=document.getElementsByTagName("head")[0];w.async=!0,w.src=window.__lc.url,x.parentNode.insertBefore(w,x)}if("1"==c.enabled){"serviceWorker"in navigator&&navigator.serviceWorker.register(c.baseUrl+"serviceWorker.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)}),navigator.serviceWorker&&navigator.serviceWorker.ready.then(function(n){window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){console.log(e.outcome),"dismissed"===e.outcome?console.log("User cancelled home screen install"):console.log("User added to home screen")})}),firebase.messaging().useServiceWorker(n),firebase.messaging().requestPermission().then(function(){console.log("Notification permission granted."),firebase.messaging().getToken().then(function(e){if(e){var t="https://iid.googleapis.com/iid/v1/"+e;y.ajax({url:c.ajaxUrl,type:"POST",dataType:"json",data:{subUrl:t},success:function(e){console.log(e)},error:function(){console.log("Cannot get data")}})}else console.log("No Instance ID token available. Request permission to generate one.")}).catch(function(e){console.log("An error occurred while retrieving token. ",e)})}).catch(function(e){console.log("Unable to get permission to notify.",e)}),firebase.messaging().onMessage(function(e){if(console.log("Message received. "),e.notification){var t=e.notification.title,o={body:e.notification.body,icon:e.notification.icon,badge:e.notification.icon};n.showNotification(t,o)}})})}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2lnbmEuZXM2LmpzIl0sIm5hbWVzIjpbIiQiLCJjb3VudGVyIiwic2V0dGluZ3MiLCJtb2RlcyIsInN0YW5kYXJkcyIsImxhenlQYXJhbXMiLCJ3aW5kb3ciLCJsYXp5TG9hZCIsInZhbGlkYXRlIiwiYWpheHNjcm9sbCIsInB3YSIsImZsZXhTbGlkZXIiLCJxdWlja1ZpZXciLCJwcm9kVXJsIiwibGVuZ3RoIiwidXJsIiwiYmFzZVVybCIsInNob3dNaW5pQ2FydCIsInBhcnNlSW50Iiwic2hvd01pbmlDYXJ0RmxhZyIsIm1hZ25pZmljUG9wdXAiLCJvcGVuIiwiJHByb2dyZXNzQmFyIiwic3JjIiwiaXNQYXVzZSIsInRpY2siLCJwZXJjZW50VGltZSIsInRpbWUiLCJjc3MiLCJiZWZvcmVDbG9zZSIsInRyaWdnZXIiLCJhamF4IiwibWV0aG9kIiwiY2xvc2UiLCJoaWRlIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInNldFRpbWVvdXQiLCJpcyIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJ0eXBlIiwiY2xvc2VPbkJnQ2xpY2siLCJwcmVsb2FkZXIiLCJzY3JvbGxGIiwiZG9jdW1lbnQiLCJvbm1vdXNld2hlZWwiLCJsYXp5bG9hZCIsIm9mZnNldCIsIm9mZnNldFZlcnRpY2FsIiwib2Zmc2V0SG9yaXpvbnRhbCIsIm9mZnNldFRvcCIsIm9mZnNldEJvdHRvbSIsIm9mZnNldExlZnQiLCJvZmZzZXRSaWdodCIsInRocm90dGxlIiwiZWZmZWMiLCJkaXNhYmxlZE1vdXNlV2hlZWwiLCJkZWJvdW5jZSIsInciLCJpbm5lcldpZHRoIiwidW5sb2FkIiwiZGVsYXkiLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbGVtZW50IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm5leHQiLCJwcmV2ZW50RGVmYXVsdCIsImNhbmNlbEJ1YmJsZSIsInJldHVyblZhbHVlIiwiZWZmZWN0Iiwib3AiLCJuYXYiLCJtYXJnaW4iLCJhdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsIm5hdlRleHQiLCJkb3RzIiwiMTIwMCIsIml0ZW1zIiwiZ3V0dGVyIiwicGVyY2VudFBvc2l0aW9uIiwibG9vcCIsIm93bENhcm91c2VsIiwicmVzcG9uc2l2ZSIsIjAiLCI5MDAiLCJwcmludEFyZWEiLCJtb2RlIiwib24iLCJfdGhpcyIsImN1cnJlbnRUYXJnZXQiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiYXR0ciIsInBvcENsb3NlIiwiaWdub3JlIiwibWFnZSIsImZpbmQiLCJhY3RpdmVEb20iLCJ0b2dnbGUiLCJkYXRhIiwiZGlzcGxheUNvbnRlbnQiLCJzaWJsaW5ncyIsInZhbGlkYXRpb24iLCJzd2lwZUxlZnQiLCJldmVudCIsImRpc3RhbmNlIiwic3dpcGVVcCIsImRpcmVjdGlvbiIsIiRzY3JvbGwiLCJkb2N1bWVudEVsZW1lbnQiLCJib2R5IiwiZWFjaCIsInN3aXBlIiwia2V5IiwiaXRlbSIsImh0bWxJZCIsImZsZXhfdHdvIiwic3dpcGVSaWdodCIsImZsZXhfdGhyZWUiLCJmbGV4X29uZSIsImZsZXhzbGlkZXIiLCJzbGlkZXNob3dTcGVlZCIsInNwZWVkIiwibmV4dFRleHQiLCJzd2lwZURvd24iLCJjb250cm9sTmF2IiwicHJldlRleHQiLCJpdGVtTWFyZ2luIiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9uTG9vcCIsInNsaWRlc2hvdyIsInN5bmMiLCJpdGVtV2lkdGgiLCJtb3VzZXdoZWVsIiwibWluSXRlbXMiLCJoZWlnaHQiLCJtYXhJdGVtcyIsInRvcCIsIiRzbGlkZXJIIiwiZmFkZUluIiwiZmFkZU91dCIsIiR3IiwibW92ZSIsInNjcm9sbEZ1bmMiLCJjYXJ0IiwidmFsIiwiaXRlbV9pZCIsInF0eSIsImhhc0NsYXNzIiwidXBkYXRlQ2FydCIsIiRxdWlja0giLCJwcmV2IiwiZm9ybV9rZXkiLCJjb29raWVzIiwiZ2V0Iiwic3RvcmFnZSIsInBvc3QiLCJkb25lIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiY29uc29sZSIsImVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImV4dGVuZCIsImlkUHJlZml4IiwicG9wSHQiLCJwb3BXZCIsInBvcFkiLCJwb3BUaXRsZSIsImV4dHJhSGVhZCIsInJldGFpbkF0dHIiLCJvcHRpb25zIiwicmVtb3ZlIiwidGhpcyIsImdldFByaW50V2luZG93IiwicHJpbnRXaW5kb3ciLCJkb2MiLCIkcHJpbnRTb3VyY2UiLCJwb3BYIiwicHJpbnQiLCJleHRyYUNzcyIsIndpbiIsInBXaW4iLCJyZWFkeSIsIlByaW50QXJlYSIsIiRlbGUiLCJwRG9jIiwid3JpdGUiLCJkb2NUeXBlIiwiZ2V0SGVhZCIsImdldEJvZHkiLCJzdGFuZGFyZCIsImxpbmtzIiwicmVwbGFjZSIsIm0iLCJyZWxBdHRyIiwidG9Mb3dlckNhc2UiLCJmaWx0ZXIiLCJtZWRpYUF0dHIiLCJkdGQiLCJlbGVtZW50cyIsImh0bSIsImVsZSIsImdldEZvcm1EYXRhIiwiYXR0cnMiLCJ4IiwiZWxlQXR0ciIsImF0dHJpYnV0ZXMiLCJodG1sIiwiY29weSIsImNsb25lIiwiY29waWVkSW5wdXRzIiwiaSIsInR5cGVJbnB1dCIsImVxIiwiY29waWVkSW5wdXQiLCJ0ZXh0IiwiaWZyYW1lIiwiZiIsInBvcHVwIiwicCIsImZyYW1lSWQiLCJpZCIsImNyZWF0ZUVsZW1lbnQiLCJEYXRlIiwiZ2V0VGltZSIsImNvbnRlbnRXaW5kb3ciLCJ3aW5kb3dBdHRyIiwic3R5bGUiLCJpZnJhbWVTdHlsZSIsIm5ld1dpbiIsIlNneUlBUyIsImRlYnVnIiwiX2xvZyIsImluaXQiLCJjb250YWluZXIiLCJwYWdpbmF0aW9uIiwicGFyYW1ldGVyIiwibmVnYXRpdmVNYXJnaW4iLCJoaXN0b3J5Iiwibm9uZWxlZnQiLCJub25lVGV4dCIsImNvbmZpZyIsImxvYWRlclNyYyIsImxvYWRlckh0bWwiLCJ0ZXh0UHJldiIsImlhc19jb25maWciLCJodG1sUHJldiIsIklBU1NwaW5uZXJFeHRlbnNpb24iLCJzcGlubmVyIiwiZXh0ZW5zaW9uIiwiaWFzIiwiSUFTTm9uZUxlZnRFeHRlbnNpb24iLCJzY3JvbGxPZmZzZXQiLCJzY3JvbGxUaHJlc2hvbGQiLCJJQVNQYWdpbmdFeHRlbnNpb24iLCJldmVudE5hbWUiLCJJQVNUcmlnZ2VyRXh0ZW5zaW9uIiwidW5kZWZpbmVkIiwiZm4iLCJzaW11bGF0ZVNlbGVjdCIsIl9rZXkiLCJfbm9kZSIsImRlZmF1bHRzIiwiYXV0b1BsYXkiLCJ2ZXJ0ZXhfUnRvcCIsImVuZCIsIm9uRW5kIiwic2VsZiIsInNldE9wdGlvbnMiLCJwbGF5Iiwic3RhcnQiLCIkZWxlbWVudCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJwb3NpdGlvbiIsImFwcGVuZFRvIiwid2lkdGgiLCJ2ZXJ0ZXhfdG9wIiwiTWF0aCIsIm1pbiIsImFicyIsImxlZnQiLCJwb3ciLCJzdGVwcyIsIm1heCIsImxvZyIsInJhdGlvIiwic3FydCIsImN1cnZhdHVyZSIsInZlcnRleF9sZWZ0IiwiY291bnQiLCJjb3MiLCJQSSIsImZvbnQtc2l6ZSIsInByb3h5IiwiZGVzdHJveSIsImZseSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBhcmVudCIsIiRmYXEiLCIkdGhpcyIsIiRzaWRlYmFyIiwiJGVsIiwiJGZvcm0iLCJjbG9zZXN0IiwiJHF1aWNrIiwiJGlucHV0IiwiaW1hZ2VzIiwiaW1nIiwiYmFubmVyUmVzaXplIiwiX19sYyIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxjIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImVuYWJsZWQiLCJuYXZpZ2F0b3IiLCJyZWdpc3RyYXRpb24iLCJzY29wZSIsImVyciIsInNlcnZpY2VXb3JrZXIiLCJ0aGVuIiwic2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsImNhdGNoIiwiY2hvaWNlUmVzdWx0Iiwib3V0Y29tZSIsInVzZXJDaG9pY2UiLCJmaXJlYmFzZSIsImFzeW5jIiwiY3VycmVudFRva2VuIiwiYWpheFVybCIsInN1YnNjcmliZXJUb3BpYyIsIm1lc3NhZ2luZyIsInN1YlVybCIsImdldFRva2VuIiwib25NZXNzYWdlIiwicGF5bG9hZCIsIm5vdGlmaWNhdGlvbiIsInVzZVNlcnZpY2VXb3JrZXIiLCJyZXF1ZXN0UGVybWlzc2lvbiIsImJhZGdlIiwiaWNvbiIsInNob3dOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb25UaXRsZSIsIm5vdGlmaWNhdGlvbk9wdGlvbnMiXSwibWFwcGluZ3MiOiIwTkFBWUEsOFFBWVpBLEVBQUUsV0FDRSxJQU9JQyxFQUFVLEVBQ1ZDLEVBQVcsR0FDWEMsRUFDWSxTQURaQSxFQUVXLFFBRVhDLEVBRVcsUUFGWEEsRUFHVyxRQUdUQyxFQUFhQyxPQUFPQyxTQUN0QkMsRUFBV0YsT0FBT0UsU0FDbEJDLEVBQWFILE9BQU9HLFdBQ3BCQyxFQUFNSixPQUFPSSxJQUNiQyxFQUFhTCxPQUFPSyxZQUFjLEdBRWxDQyxFQUNnQixTQUFTQyxHQUNyQixJQUFLQSxFQUFRQyxPQUNULE9BQU8sRUFHWCxJQUFJQyxFQUFNVCxPQUFPTSxVQUFVSSxRQUFVLHVDQUNqQ0MsRUFBZUMsU0FBU1osT0FBT00sVUFBVUssY0FDN0NYLE9BQU9NLFVBQVVPLGtCQUFtQixFQWxDOUNuQixFQUFBb0IsY0FBTUMsS0FBQSxDQUNBQyxNQUFBQSxDQUNPQyxJQURYVixHQUdJVyxLQUFVLFNBQ1ZDLGdCQUpKLEVBS0lDLFdBQWMsRUFDZEMsU0FOSixHQU9JMUIsVUFQSixDQVFJQyxLQVJKLFdBU1lGLEVBQUEsa0JBQUE0QixJQUFBLFVBQUEsVUFFR0MsWUFBQSxXQVhmN0IsRUFBQSwyQkFBQThCLFFBQUEsa0JBYWdCOUIsRUFBQStCLEtBQUEsQ0FBQWhCLElBQUFBLEVBQUFpQixPQUFBLFVBeUNBQyxNQUFPLFdBbkNqQjVCLEVBQWFDLGtCQUFuQjRCLFFBRUl6QixXQUFvQkEsV0FGeEJILE9BQUFNLFVBQUFPLGtCQUFBRixJQUlpQlgsRUFBQUEsY0FBQTZCLFFBSmpCLENBQUFDLFVBQUEsR0FBQSxRQXlDd0JDLFdBQVcsV0FuQ25CckMsRUFBQSxtQkFBQXNDLEdBQUEsYUFDSXRDLEVBQUEsb0JBQVNhLFFBQVMsVUFF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QUMsU0E4QnFDLGNBQXpCRCxFQUFhQyxRQXZDekJ4SyxRQUFBK0gsSUFBbUJnQyxzQ0FHaEIvSixRQUFBK0gsSUFBZSxpQ0ErQnRCZ0MsU0FBQUEsWUFBVUksaUJBQTJCQSxHQUNqQ2pVLFNBQUFBLFlBQU8wRCxvQkFDSHpCLEtBQUVzUyxXQUNFekssUUFBQUEsSUFBUStILG9DQTVDcEIyQyxTQUFRalMsWUFBU2lSLFdBQ2RpQixLQUFILFNBQUFDLEdBQ0EsR0FBUzFVLEVBQVQsQ0FDQSxJQUFhMlQsRUFBYixxQ0FBQWUsRUFDSGhWLEVBQUErQixLQUFBLENBaUJ1QmhCLElBQUtMLEVBQUl1VSxRQWZkeFMsS0FBSyxPQVNYeVMsU0FBVCxPQUNhQyxLQUFULENBQUFDLE9BQXFCQyxHQUVUTCxRQUFKLFNBQWtCOUssR0FDVmtMLFFBQVNqRCxJQUFBakksSUFFVG5KLE1BQUtMLFdBQ0wrQixRQUZHMFAsSUFBQSwyQkFNQy9ILFFBQUFBLElBQUFBLHlFQUdBQSxNQUFBQSxTQUFBQSxHQUNIQSxRQUFBK0gsSUFBQSw2Q0FBQW1DLE9BaUJMbEssTUFBQUEsU0FBQUEsR0FDSEEsUUFGRCtILElBR0ssc0NBQUFtQyxLQUdSUSxTQVRESyxZQUFBRyxVQUFBLFNBQUFDLEdBd0JBLEdBZEhuTCxRQVhEK0gsSUFBQSxzQkF5QlFvRCxFQUFRQyxhQUFjLENBWjlCVixJQUFBQSxFQUFxQlcsRUFBQUEsYUFBaUJoQixNQUN0Q0ssRUFBcUJZLENBRWJ0TCxLQUFRK0gsRUFBSXFELGFBQUF0TyxLQUNaZ08sS0FBQUEsRUFBQUEsYUFBQUEsS0FIUlMsTUFLV0osRUFBQUMsYUFBZUksTUFMMUJuQixFQUFBb0IsaUJBQUFDLEVBQUFDIiwiZmlsZSI6Ik1hZ2VudG9fVGhlbWUvd2ViL2pzL2Rlc2lnbmEuZXM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IGxhenlsb2FkIGZyb20gJ0xhenlMb2FkJztcbmltcG9ydCBwb3B1cCBmcm9tICdwb3B1cCc7XG5pbXBvcnQgZmxleHNsaWRlciBmcm9tICdtYWdlc3RvcmUvZmxleHNsaWRlcic7XG5pbXBvcnQgb3dsQ2Fyb3VzZWwgZnJvbSAnY2Fyb3VzZWwnO1xuaW1wb3J0IE1hc29ucnkgZnJvbSAnTWFnZWZhbl9CbG9nL2pzL21hc29ucnkucGtnZC5taW4nO1xuaW1wb3J0IGJyaWRnZXQgZnJvbSAnYnJpZGdldCc7XG5pbXBvcnQgbWFnZSBmcm9tICdtYWdlL21hZ2UnO1xuaW1wb3J0IGFqYXhTY3JvbGwgZnJvbSAnYWpheFNjcm9sbCc7XG5pbXBvcnQgc3dpcGUgZnJvbSAndG91Y2hTd2lwZSc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICdtYWdlL3N0b3JhZ2UnO1xuXG4kKCgpID0+IHtcbiAgICBsZXQgJHByb2dyZXNzQmFyID0gbnVsbCxcbiAgICAgICAgJGJhciA9IG51bGwsXG4gICAgICAgICRlbGVtID0gbnVsbCxcbiAgICAgICAgaXNQYXVzZSA9IG51bGwsXG4gICAgICAgIHRpY2sgPSBudWxsLFxuICAgICAgICBwZXJjZW50VGltZSA9IG51bGwsXG4gICAgICAgIHRpbWUgPSA1LFxuICAgICAgICBjb3VudGVyID0gMCxcbiAgICAgICAgc2V0dGluZ3MgPSB7fSxcbiAgICAgICAgbW9kZXMgPSB7XG4gICAgICAgICAgICBpZnJhbWU6ICdpZnJhbWUnLFxuICAgICAgICAgICAgcG9wdXA6ICdwb3B1cCdcbiAgICAgICAgfSxcbiAgICAgICAgc3RhbmRhcmRzID0ge1xuICAgICAgICAgICAgc3RyaWN0OiAnc3RyaWN0JyxcbiAgICAgICAgICAgIGxvb3NlOiAnbG9vc2UnLFxuICAgICAgICAgICAgaHRtbDU6ICdodG1sNSdcbiAgICAgICAgfTtcblxuICAgIGNvbnN0IGxhenlQYXJhbXMgPSB3aW5kb3cubGF6eUxvYWQsXG4gICAgICAgIHZhbGlkYXRlID0gd2luZG93LnZhbGlkYXRlLFxuICAgICAgICBhamF4c2Nyb2xsID0gd2luZG93LmFqYXhzY3JvbGwsXG4gICAgICAgIHB3YSA9IHdpbmRvdy5wd2EsXG4gICAgICAgIGZsZXhTbGlkZXIgPSB3aW5kb3cuZmxleFNsaWRlciB8fCBbXTtcbiAgICBcbiAgICBsZXQgcXVpY2tWaWV3ID0ge1xuICAgICAgICBkaXNwbGF5Q29udGVudDogZnVuY3Rpb24ocHJvZFVybCkge1xuICAgICAgICAgICAgaWYgKCFwcm9kVXJsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5xdWlja1ZpZXcuYmFzZVVybCArICd3ZWx0cGl4ZWxfcXVpY2t2aWV3L2luZGV4L3VwZGF0ZWNhcnQnO1xuICAgICAgICAgICAgbGV0IHNob3dNaW5pQ2FydCA9IHBhcnNlSW50KHdpbmRvdy5xdWlja1ZpZXcuc2hvd01pbmlDYXJ0KTtcbiAgICAgICAgICAgIHdpbmRvdy5xdWlja1ZpZXcuc2hvd01pbmlDYXJ0RmxhZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAkLm1hZ25pZmljUG9wdXAub3Blbih7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBwcm9kVXJsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaWZyYW1lJyxcbiAgICAgICAgICAgICAgICBjbG9zZU9uQmdDbGljazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlbG9hZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRMb2FkaW5nOiAnJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubWZwLXByZWxvYWRlcicpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdbZGF0YS1ibG9jaz1cIm1pbmljYXJ0XCJdJykudHJpZ2dlcignY29udGVudExvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tZnAtcHJlbG9hZGVyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhZnRlckNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cucXVpY2tWaWV3LnNob3dNaW5pQ2FydEZsYWcgJiYgc2hvd01pbmlDYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgJ3Nsb3cnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJCgnLmJsb2NrLW1pbmljYXJ0JykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hY3Rpb24uc2hvd2NhcnQnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBkaXNhYmxlZE1vdXNlV2hlZWwoKSB7XG4gICAgICAgIHZhciB3ID0gd2luZG93LmlubmVyV2lkdGg7XG5cbiAgICAgICAgaWYgKHcgPD0gNjQwKSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgc2Nyb2xsRiwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aW5kb3cub25tb3VzZXdoZWVsID0gZG9jdW1lbnQub25tb3VzZXdoZWVsID0gc2Nyb2xsRjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbEYoZSkge1xuICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZS5jYW5jZWxCdWJibGU9dHJ1ZTtcbiAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkaXNhYmxlZE1vdXNlV2hlZWwoKTtcblxuICAgICQoJy5sYXp5JykubGF6eWxvYWQoe1xuICAgICAgICBvZmZzZXQ6IGxhenlQYXJhbXMub2Zmc2V0LFxuXHRcdG9mZnNldFZlcnRpY2FsOiBsYXp5UGFyYW1zLm9mZnNldFZlcnRpY2FsLFxuXHRcdG9mZnNldEhvcml6b250YWw6IGxhenlQYXJhbXMub2Zmc2V0SG9yaXpvbnRhbCxcblx0XHRvZmZzZXRUb3A6IGxhenlQYXJhbXMub2Zmc2V0VG9wLFxuXHRcdG9mZnNldEJvdHRvbTogbGF6eVBhcmFtcy5vZmZzZXRCb3R0b20sXG5cdFx0b2Zmc2V0TGVmdDogbGF6eVBhcmFtcy5vZmZzZXRMZWZ0LFxuXHRcdG9mZnNldFJpZ2h0OiBsYXp5UGFyYW1zLm9mZnNldFJpZ2h0LFxuXHRcdHRocm90dGxlOiBsYXp5UGFyYW1zLnRocm90dGxlLFxuICAgICAgICBlZmZlYzogbGF6eVBhcmFtcy5lZmZlY3QsXG4gICAgICAgIGRlYm91bmNlOiBsYXp5UGFyYW1zLmRlYm91bmNlLFxuXHRcdHVubG9hZDogbGF6eVBhcmFtcy51bmxvYWQsXG5cdFx0ZGVsYXk6IGxhenlQYXJhbXMuZGVsYXksXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZWxlbWVudCwgb3ApIHtcbiAgICAgICAgICAgIGxldCAkcGFyZW50ID0gJChlbGVtZW50KS5wYXJlbnQoKTtcbiAgICAgICAgICAgICQoZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2xhenknKS5hZGRDbGFzcygnbG9hZGVkJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdwb3N0ZXInKSkge1xuICAgICAgICAgICAgICAgICQoZWxlbWVudCkubmV4dCgpLmFkZENsYXNzKCdsb2FkZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLmxhenktYmcnKS5sYXp5bG9hZCh7XG4gICAgICAgIG9mZnNldDogbGF6eVBhcmFtcy5vZmZzZXQsXG5cdFx0b2Zmc2V0VmVydGljYWw6IGxhenlQYXJhbXMub2Zmc2V0VmVydGljYWwsXG5cdFx0b2Zmc2V0SG9yaXpvbnRhbDogbGF6eVBhcmFtcy5vZmZzZXRIb3Jpem9udGFsLFxuXHRcdG9mZnNldFRvcDogbGF6eVBhcmFtcy5vZmZzZXRUb3AsXG5cdFx0b2Zmc2V0Qm90dG9tOiBsYXp5UGFyYW1zLm9mZnNldEJvdHRvbSxcblx0XHRvZmZzZXRMZWZ0OiBsYXp5UGFyYW1zLm9mZnNldExlZnQsXG5cdFx0b2Zmc2V0UmlnaHQ6IGxhenlQYXJhbXMub2Zmc2V0UmlnaHQsXG5cdFx0dGhyb3R0bGU6IGxhenlQYXJhbXMudGhyb3R0bGUsXG4gICAgICAgIGVmZmVjOiBsYXp5UGFyYW1zLmVmZmVjdCxcbiAgICAgICAgZGVib3VuY2U6IGxhenlQYXJhbXMuZGVib3VuY2UsXG5cdFx0dW5sb2FkOiBsYXp5UGFyYW1zLnVubG9hZCxcblx0XHRkZWxheTogMCxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChlbGVtZW50LCBvcCkge1xuICAgICAgICAgICAgJChlbGVtZW50KS5yZW1vdmVDbGFzcygnbGF6eS1iZycpLmFkZENsYXNzKCdsb2FkZWQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYnJpZGdldCgnbWFzb25yeScsIE1hc29ucnksICQpO1xuICAgICQoJy53YXRlcmZhbGwnKS5tYXNvbnJ5KHtcbiAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmdyaWQnLFxuICAgICAgICBndXR0ZXI6IDMwLFxuICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWVcbiAgICB9KTtcblxuICAgICQoJy5vd2wtYmxvZycpLm93bENhcm91c2VsKHtcbiAgICAgICAgaXRlbXM6IDQsXG4gICAgICAgIGxhenlMb2FkOiB0cnVlLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBuYXY6IHRydWUsXG4gICAgICAgIG1hcmdpbjogMzAsXG4gICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgYXV0b3BsYXlUaW1lb3V0OiA3MDAwLFxuICAgICAgICBuYXZUZXh0OiBbXG4gICAgICAgICAgICAnPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1sZWZ0XCI+PC91c2U+PC9zdmc+JyxcbiAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uLXJpZ2h0XCI+PC91c2U+PC9zdmc+J1xuICAgICAgICBdLFxuICAgICAgICByZXNwb25zaXZlOiB7XG4gICAgICAgICAgICAwOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IDEsXG4gICAgICAgICAgICAgICAgbmF2OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkb3RzOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDY0MDoge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiAyLFxuICAgICAgICAgICAgICAgIG5hdjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZG90czogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA3Njg6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogMixcbiAgICAgICAgICAgICAgICBkb3RzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMTIwMDoge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiAzLFxuICAgICAgICAgICAgICAgIGRvdHM6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAxNDQwOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IDQsXG4gICAgICAgICAgICAgICAgZG90czogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLm93bC1jb21wYXJpc29uJykub3dsQ2Fyb3VzZWwoe1xuICAgICAgICBpdGVtczogNCxcbiAgICAgICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICBuYXY6IHRydWUsXG4gICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgIG5hdlRleHQ6IFtcbiAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uLWxlZnQtc3F1YXJlXCI+PC91c2U+PC9zdmc+JyxcbiAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uLXJpZ2h0LXNxdWFyZVwiPjwvdXNlPjwvc3ZnPidcbiAgICAgICAgXSxcbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgICAgMDoge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNDYwOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IDJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA5MDA6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDEyMDA6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogNFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcub3dsLXJldmlldycpLm93bENhcm91c2VsKHtcbiAgICAgICAgaXRlbXM6IDMsXG4gICAgICAgIGxhenlMb2FkOiB0cnVlLFxuICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgbmF2OiB0cnVlLFxuICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgIGF1dG9wbGF5VGltZW91dDogNDAwMCxcbiAgICAgICAgbmF2VGV4dDogW1xuICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHVzZSB4bGluazpocmVmPVwiI2ljb24tbGVmdC1zcXVhcmVcIj48L3VzZT48L3N2Zz4nLFxuICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHVzZSB4bGluazpocmVmPVwiI2ljb24tcmlnaHQtc3F1YXJlXCI+PC91c2U+PC9zdmc+J1xuICAgICAgICBdLFxuICAgICAgICByZXNwb25zaXZlOiB7XG4gICAgICAgICAgICAwOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IDEgXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNDYwOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IDJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA5MDA6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDEyMDA6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogM1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcub3dsLXRoZW1lJykub3dsQ2Fyb3VzZWwoe1xuICAgICAgICBpdGVtczogNCxcbiAgICAgICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICBuYXY6IHRydWUsXG4gICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICBhdXRvcGxheVRpbWVvdXQ6IDUwMDAsXG4gICAgICAgIG5hdlRleHQ6IFtcbiAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uLWxlZnQtc3F1YXJlXCI+PC91c2U+PC9zdmc+JyxcbiAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjx1c2UgeGxpbms6aHJlZj1cIiNpY29uLXJpZ2h0LXNxdWFyZVwiPjwvdXNlPjwvc3ZnPidcbiAgICAgICAgXSxcbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgICAgMDoge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNDYwOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IDJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA5MDA6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDEyMDA6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogNFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcucHJpbnQnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAkKCcuY2hlY2tvdXQtZGV0YWlsJykucHJpbnRBcmVhKHtcbiAgICAgICAgICAgIG1vZGU6ICdpZnJhbWUnLFxuICAgICAgICAgICAgcG9wQ2xvc2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKCcuc3RhbXAnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAkKCcudGFibGUtd3JhcHBlcicpLnByaW50QXJlYSh7XG4gICAgICAgICAgICBtb2RlOiAnaWZyYW1lJyxcbiAgICAgICAgICAgIHBvcENsb3NlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJCgnLnNob3ctZGV0YWlsJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgbGV0IF90aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICBpZiAoX3RoaXMuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcuY2hlY2tvdXQtYm9keScpLnNsaWRlRG93bigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmNoZWNrb3V0LWJvZHknKS5zbGlkZVVwKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLndlbHRwaXhlbC1xdWlja3ZpZXcnLCAoZSkgPT4ge1xuICAgICAgICBsZXQgcHJvZFVybCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLXF1aWNrdmlldy11cmwnKTtcblxuICAgICAgICBpZiAocHJvZFVybC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHF1aWNrVmlldy5kaXNwbGF5Q29udGVudChwcm9kVXJsKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiB2YWxpZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHZhbGlkYXRlLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlLmlnbm9yZSA9ICc6aGlkZGVuOm5vdCgnICsgdmFsaWRhdGUuaWdub3JlLmlnbm9yZSArICcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbGlkYXRlLmlnbm9yZSA9IHZhbGlkYXRlLmlnbm9yZSA/ICc6aGlkZGVuOm5vdCgnICsgdmFsaWRhdGUuaWdub3JlICsgJyknIDogJzpoaWRkZW4nO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLmNyZWF0ZS1pbmRpdmlkdWFsJykubWFnZSgndmFsaWRhdGlvbicsIHtcbiAgICAgICAgICAgIGlnbm9yZTogdmFsaWRhdGUuaWdub3JlXG4gICAgICAgIH0pLmZpbmQoJ2lucHV0OnRleHQnKS5hdHRyKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG5cbiAgICAgICAgJCgnLmNyZWF0ZS1lbnRlcnByaXNlJykubWFnZSgndmFsaWRhdGlvbicsIHtcbiAgICAgICAgICAgIGlnbm9yZTogdmFsaWRhdGUuaWdub3JlXG4gICAgICAgIH0pLmZpbmQoJ2lucHV0OnRleHQnKS5hdHRyKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgfVxuXG4gICAgJCgnLnRhYi1saW5rJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgbGV0IGFjdGl2ZURvbSA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgbGV0IHRvZ2dsZSA9IGFjdGl2ZURvbS5kYXRhKCd0b2dnbGUnKTtcblxuICAgICAgICBpZiAoIWFjdGl2ZURvbS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgIGFjdGl2ZURvbS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcuJyArIHRvZ2dsZSkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmNyZWF0ZS0nICsgdG9nZ2xlKS52YWxpZGF0aW9uKCdjbGVhckVycm9yJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAkKCcuY2xvc2UtYmFubmVyJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgJCgnLmJhbm5lcicpLnNsaWRlVXAoJ3Nsb3cnKTtcbiAgICAgICAgJCgnLnBhZ2Utd3JhcHBlcicpLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuICAgIH0pO1xuXG4gICAgJCgnLmNvcy5pdGVtJykuc3dpcGUoe1xuICAgICAgICBzd2lwZUxlZnQ6IGZ1bmN0aW9uKGV2ZW50LCBkaXJlY3Rpb24sIGRpc3RhbmNlKSB7XG4gICAgICAgICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCdzd2lwZScpO1xuICAgICAgICB9LFxuICAgICAgICBzd2lwZVJpZ2h0OiBmdW5jdGlvbihldmVudCwgZGlyZWN0aW9uLCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygnc3dpcGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3dpcGVVcDogZnVuY3Rpb24gKGV2ZW50LCBkaXJlY3Rpb24sIGRpc3RhbmNlKSB7XG4gICAgICAgICAgICBsZXQgJHNjcm9sbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkc2Nyb2xsICsgZGlzdGFuY2UgKiAyXG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9LFxuICAgICAgICBzd2lwZURvd246IGZ1bmN0aW9uIChldmVudCwgZGlyZWN0aW9uLCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgbGV0ICRzY3JvbGwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJHNjcm9sbCAtIGRpc3RhbmNlICogMlxuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBmaW5nZXJzOiAnYWxsJ1xuICAgIH0pO1xuXG4gICAgaWYgKGZsZXhTbGlkZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAkLmVhY2goZmxleFNsaWRlciwgKGtleSwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgbGV0IGh0bWxJZCA9IGl0ZW0uaHRtbElkO1xuICAgICAgICAgICAgbGV0IGZsZXhfb25lID0gaXRlbS5mbGV4X29uZTtcbiAgICAgICAgICAgIGxldCBmbGV4X3R3byA9IGl0ZW0uZmxleF90d287XG4gICAgICAgICAgICBsZXQgZmxleF90aHJlZSA9IGl0ZW0uZmxleF90aHJlZTtcbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZmxleF9vbmU6XG4gICAgICAgICAgICAgICAgICAgICQoJy4nICsgaHRtbElkKS5mbGV4c2xpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogaXRlbS5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNob3dTcGVlZDogaXRlbS5zcGVlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZUZXh0OiAnPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1sZWZ0XCI+PC91c2U+PC9zdmc+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUZXh0OiAnPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1yaWdodFwiPjwvdXNlPjwvc3ZnPidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZmxleF90d286XG4gICAgICAgICAgICAgICAgICAgICQoJy4nICsgaHRtbElkKS5mbGV4c2xpZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogaXRlbS5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTmF2OiAndGh1bWJuYWlscycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNob3dTcGVlZDogaXRlbS5zcGVlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZUZXh0OiAnPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1sZWZ0XCI+PC91c2U+PC9zdmc+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUZXh0OiAnPHN2ZyBjbGFzcz1cImljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1yaWdodFwiPjwvdXNlPjwvc3ZnPidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZmxleF90aHJlZTpcbiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBodG1sSWQgKyAnLWNhcm91c2VsJykuZmxleHNsaWRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTmF2OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtV2lkdGg6IDIxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1NYXJnaW46IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhc05hdkZvcjogJyMnICsgaHRtbElkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGh0bWxJZCkuZmxleHNsaWRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IGl0ZW0uYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25Mb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3luYzogJyMnICsgaHRtbElkICsgJy1jYXJvdXNlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNob3dTcGVlZDogaXRlbS5zcGVlZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgJCgnLicgKyBodG1sSWQpLmZsZXhzbGlkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uTG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1XaWR0aDogNDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU1hcmdpbjogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkl0ZW1zOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SXRlbXM6IDRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCcuYmxvZy1mbGV4c2xpZGVyJykuZmxleHNsaWRlcih7XG4gICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlJyxcbiAgICAgICAgaXRlbVdpZHRoOiA0NjAsXG4gICAgICAgIGl0ZW1NYXJnaW46IDY1LFxuICAgICAgICBzbGlkZXNob3dTcGVlZDogNTAwMCxcbiAgICAgICAgbW92ZTogMSxcbiAgICAgICAgc2xpZGVzaG93OiBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9uTG9vcDogdHJ1ZSxcbiAgICAgICAgbW91c2V3aGVlbDogdHJ1ZSxcbiAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgIGRpcmVjdGlvbk5hdjogZmFsc2VcbiAgICB9KTtcblxuICAgIGxldCBzY3JvbGxGdW5jID0gKCkgPT4ge1xuICAgICAgICBsZXQgJHcgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgbGV0ICRzY3JvbGwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuICAgICAgICBsZXQgJHNsaWRlckggPSBNYXRoLmFicygkKCcubWFnZXN0b3JlLWJhbm5lcnNsaWRlcicpLmhlaWdodCgpIC0gJCgnLmlubmVyLXdyYXBwZXInKS5oZWlnaHQoKSk7XG4gICAgICAgIGxldCAkcXVpY2tIID0gJCgnLnBhZ2UtbWFpbicpLm9mZnNldCgpLnRvcCArICQoJy5wYWdlLW1haW4nKS5oZWlnaHQoKTtcblxuICAgICAgICBpZiAoJHNjcm9sbCA+PSAkc2xpZGVySCkge1xuICAgICAgICAgICAgJCgnLnBhZ2UtaGVhZGVyJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLndlYnNpdGUnKS5mYWRlSW4oJ3Nsb3cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5wYWdlLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy53ZWJzaXRlJykuZmFkZU91dCgnc2xvdycpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNjcm9sbCA+PSAkcXVpY2tIICYmICR3ID4gNzY3KSB7XG4gICAgICAgICAgICAkKCcucXVpY2stYWRkJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmFjdGlvbi5wb3AnKS5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLnF1aWNrLWFkZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5hY3Rpb24ucG9wJykucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzY3JvbGxGdW5jKCk7XG5cbiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCByZXNpemUnLCAoKSA9PiB7XG4gICAgICAgIHNjcm9sbEZ1bmMoKTtcbiAgICB9KTtcblxuICAgICQoJy5jYXJ0LWFkZCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGxldCBjYXJ0ID0gJChlLmN1cnJlbnRUYXJnZXQpLm5leHQoKTtcbiAgICAgICAgbGV0IHF0eSA9IHBhcnNlSW50KGNhcnQudmFsKCkpICsgMTtcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICAnaXRlbV9pZCc6IGNhcnQuYXR0cignaWQnKSxcbiAgICAgICAgICAgICdpdGVtX3F0eSc6IHF0eVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkKGUuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoJ2NhcnQnKSkge1xuICAgICAgICAgICAgdXBkYXRlQ2FydChkYXRhLCBjYXJ0LCBxdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FydC52YWwocXR5KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLmNhcnQtbWludXMnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBsZXQgY2FydCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wcmV2KCk7XG4gICAgICAgIGxldCBxdHkgPSBwYXJzZUludChjYXJ0LnZhbCgpKSAtIDE7XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgJ2l0ZW1faWQnOiBjYXJ0LmF0dHIoJ2lkJyksXG4gICAgICAgICAgICAnaXRlbV9xdHknOiBxdHlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoJChlLmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCdjYXJ0JykpIHtcbiAgICAgICAgICAgIHVwZGF0ZUNhcnQoZGF0YSwgY2FydCwgcXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChxdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgY2FydC52YWwocXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlQ2FydCA9ICgoZGF0YSwgZWxlbWVudCwgcXR5KSA9PiB7XG4gICAgICAgIGRhdGEgPSAkLmV4dGVuZChkYXRhLCB7XG4gICAgICAgICAgICAnZm9ybV9rZXknOiAkLm1hZ2UuY29va2llcy5nZXQoJ2Zvcm1fa2V5JylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RvcmFnZS5wb3N0KFxuICAgICAgICAgICAgJ2NoZWNrb3V0L3NpZGViYXIvdXBkYXRlSXRlbVF0eS8nLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuICAgICAgICApLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGlmIChxdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsKHF0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihKU09OLnN0cmluZ2lmeShlcnJvcikpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICQoJy53ZWJzaXRlJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICB9LCBmYWxzZSk7IFxuXG4gICAgJC5mbi5wcmludEFyZWEgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBsZXQgaWRQcmVmaXggPSAncHJpbnRBcmVhXyc7XG4gICAgICAgICQuZXh0ZW5kKHNldHRpbmdzLCB7XG4gICAgICAgICAgICBtb2RlOiBtb2Rlcy5pZnJhbWUsXG4gICAgICAgICAgICBzdGFuZGFyZDogc3RhbmRhcmRzLmh0bWw1LFxuICAgICAgICAgICAgcG9wSHQ6IDUwMCxcbiAgICAgICAgICAgIHBvcFdkOiA0MDAsXG4gICAgICAgICAgICBwb3BYOiAyMDAsXG4gICAgICAgICAgICBwb3BZOiAyMDAsXG4gICAgICAgICAgICBwb3BUaXRsZTogJycsXG4gICAgICAgICAgICBwb3BDbG9zZTogZmFsc2UsXG4gICAgICAgICAgICBleHRyYUNzczogJycsXG4gICAgICAgICAgICBleHRyYUhlYWQ6ICcnLFxuICAgICAgICAgICAgcmV0YWluQXR0cjogW1wiaWRcIiwgXCJjbGFzc1wiLCBcInN0eWxlXCJdXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgJChcIltpZF49XCIgKyBpZFByZWZpeCArIFwiXVwiKS5yZW1vdmUoKTtcblxuICAgICAgICBzZXR0aW5ncy5pZCA9IGlkUHJlZml4ICsgY291bnRlcjtcblxuICAgICAgICB2YXIgJHByaW50U291cmNlID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIHByaW50V2luZG93ID0gUHJpbnRBcmVhLmdldFByaW50V2luZG93KCk7XG5cbiAgICAgICAgUHJpbnRBcmVhLndyaXRlKHByaW50V2luZG93LmRvYywgJHByaW50U291cmNlKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBQcmludEFyZWEucHJpbnQocHJpbnRXaW5kb3cpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9O1xuXG4gICAgbGV0IFByaW50QXJlYSA9IHtcbiAgICAgICAgcHJpbnQ6IGZ1bmN0aW9uIChwV2luKSB7XG4gICAgICAgICAgICBsZXQgd2luZG93ID0gcFdpbi53aW47XG5cbiAgICAgICAgICAgICQocFdpbi5kb2MpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5tb2RlID09IG1vZGVzLnBvcHVwICYmIHNldHRpbmdzLnBvcENsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB3cml0ZTogZnVuY3Rpb24gKHBEb2MsICRlbGUpIHtcbiAgICAgICAgICAgIHBEb2Mub3BlbigpO1xuICAgICAgICAgICAgcERvYy53cml0ZShQcmludEFyZWEuZG9jVHlwZSgpICsgXCI8aHRtbD5cIiArIFByaW50QXJlYS5nZXRIZWFkKCkgKyBQcmludEFyZWEuZ2V0Qm9keSgkZWxlKSArIFwiPC9odG1sPlwiKTtcbiAgICAgICAgICAgIHBEb2MuY2xvc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9jVHlwZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLm1vZGUgPT0gbW9kZXMuaWZyYW1lKSByZXR1cm4gXCJcIjtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnN0YW5kYXJkID09IHN0YW5kYXJkcy5odG1sNSkgcmV0dXJuIFwiPCFET0NUWVBFIGh0bWw+XCI7XG5cbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uYWwgPSBzZXR0aW5ncy5zdGFuZGFyZCA9PSBzdGFuZGFyZHMubG9vc2UgPyBcIiBUcmFuc2l0aW9uYWxcIiA6IFwiXCI7XG4gICAgICAgICAgICBsZXQgZHRkID0gc2V0dGluZ3Muc3RhbmRhcmQgPT0gc3RhbmRhcmRzLmxvb3NlID8gXCJsb29zZVwiIDogXCJzdHJpY3RcIjtcblxuICAgICAgICAgICAgcmV0dXJuICc8IURPQ1RZUEUgSFRNTCBQVUJMSUMgXCItLy9XM0MvL0RURCBIVE1MIDQuMDEnICsgdHJhbnNpdGlvbmFsICsgJy8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0LycgKyBkdGQgKyAnLmR0ZFwiPic7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEhlYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBleHRyYUhlYWQgPSBcIlwiO1xuICAgICAgICAgICAgbGV0IGxpbmtzID0gXCJcIjtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmV4dHJhSGVhZCkgc2V0dGluZ3MuZXh0cmFIZWFkLnJlcGxhY2UoLyhbXixdKykvZywgZnVuY3Rpb24gKG0pIHsgZXh0cmFIZWFkICs9IG0gfSk7XG5cbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoXCJsaW5rXCIpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWxBdHRyID0gJCh0aGlzKS5hdHRyKFwicmVsXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCQudHlwZShyZWxBdHRyKSA9PT0gJ3VuZGVmaW5lZCcpID09IGZhbHNlICYmIHJlbEF0dHIudG9Mb3dlckNhc2UoKSA9PSAnc3R5bGVzaGVldCc7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lZGlhQXR0ciA9ICQodGhpcykuYXR0cihcIm1lZGlhXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC50eXBlKG1lZGlhQXR0cikgPT09ICd1bmRlZmluZWQnIHx8IG1lZGlhQXR0ciA9PSBcIlwiIHx8IG1lZGlhQXR0ci50b0xvd2VyQ2FzZSgpID09ICdwcmludCcgfHwgbWVkaWFBdHRyLnRvTG93ZXJDYXNlKCkgPT0gJ2FsbCdcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua3MgKz0gJzxsaW5rIHR5cGU9XCJ0ZXh0L2Nzc1wiIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiJyArICQodGhpcykuYXR0cihcImhyZWZcIikgKyAnXCIgPic7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuZXh0cmFDc3MpIHNldHRpbmdzLmV4dHJhQ3NzLnJlcGxhY2UoLyhbXixcXHNdKykvZywgZnVuY3Rpb24gKG0pIHsgbGlua3MgKz0gJzxsaW5rIHR5cGU9XCJ0ZXh0L2Nzc1wiIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiJyArIG0gKyAnXCI+JyB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIFwiPGhlYWQ+PHRpdGxlPlwiICsgc2V0dGluZ3MucG9wVGl0bGUgKyBcIjwvdGl0bGU+XCIgKyBleHRyYUhlYWQgKyBsaW5rcyArIFwiPC9oZWFkPlwiO1xuICAgICAgICB9LFxuICAgICAgICBnZXRCb2R5OiBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGxldCBodG0gPSBcIlwiO1xuICAgICAgICAgICAgbGV0IGF0dHJzID0gc2V0dGluZ3MucmV0YWluQXR0cjtcbiAgICAgICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxldCBlbGUgPSBQcmludEFyZWEuZ2V0Rm9ybURhdGEoJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgYXR0cnMubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZUF0dHIgPSAkKGVsZSkuYXR0cihhdHRyc1t4XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVBdHRyKSBhdHRyaWJ1dGVzICs9IChhdHRyaWJ1dGVzLmxlbmd0aCA+IDAgPyBcIiBcIiA6IFwiXCIpICsgYXR0cnNbeF0gKyBcIj0nXCIgKyBlbGVBdHRyICsgXCInXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaHRtICs9ICc8ZGl2ICcgKyBhdHRyaWJ1dGVzICsgJz4nICsgJChlbGUpLmh0bWwoKSArICc8L2Rpdj4nO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBcIjxib2R5PlwiICsgaHRtICsgXCI8L2JvZHk+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEZvcm1EYXRhOiBmdW5jdGlvbiAoZWxlKSB7XG4gICAgICAgICAgICBsZXQgY29weSA9IGVsZS5jbG9uZSgpO1xuICAgICAgICAgICAgbGV0IGNvcGllZElucHV0cyA9ICQoXCJpbnB1dCxzZWxlY3QsdGV4dGFyZWFcIiwgY29weSk7XG4gICAgICAgICAgICAkKFwiaW5wdXQsc2VsZWN0LHRleHRhcmVhXCIsIGVsZSkuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIGxldCB0eXBlSW5wdXQgPSAkKHRoaXMpLmF0dHIoXCJ0eXBlXCIpO1xuICAgICAgICAgICAgICAgIGlmICgkLnR5cGUodHlwZUlucHV0KSA9PT0gJ3VuZGVmaW5lZCcpIHR5cGVJbnB1dCA9ICQodGhpcykuaXMoXCJzZWxlY3RcIikgPyBcInNlbGVjdFwiIDogJCh0aGlzKS5pcyhcInRleHRhcmVhXCIpID8gXCJ0ZXh0YXJlYVwiIDogXCJcIjtcbiAgICAgICAgICAgICAgICBsZXQgY29waWVkSW5wdXQgPSBjb3BpZWRJbnB1dHMuZXEoaSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZUlucHV0ID09IFwicmFkaW9cIiB8fCB0eXBlSW5wdXQgPT0gXCJjaGVja2JveFwiKSBjb3BpZWRJbnB1dC5hdHRyKFwiY2hlY2tlZFwiLCAkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVJbnB1dCA9PSBcInRleHRcIiB8fCB0eXBlSW5wdXQgPT0gXCJcIikgY29waWVkSW5wdXQuYXR0cihcInZhbHVlXCIsICQodGhpcykudmFsKCkpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVJbnB1dCA9PSBcInNlbGVjdFwiKVxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJvcHRpb25cIikuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6c2VsZWN0ZWRcIikpICQoXCJvcHRpb25cIiwgY29waWVkSW5wdXQpLmVxKGkpLmF0dHIoXCJzZWxlY3RlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZUlucHV0ID09IFwidGV4dGFyZWFcIikgY29waWVkSW5wdXQudGV4dCgkKHRoaXMpLnZhbCgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFByaW50V2luZG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHNldHRpbmdzLm1vZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIG1vZGVzLmlmcmFtZTpcbiAgICAgICAgICAgICAgICAgICAgbGV0IGYgPSBuZXcgUHJpbnRBcmVhLmlmcmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB3aW46IGYuY29udGVudFdpbmRvdyB8fCBmLCBkb2M6IGYuZG9jIH07XG4gICAgICAgICAgICAgICAgY2FzZSBtb2Rlcy5wb3B1cDpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSBuZXcgUHJpbnRBcmVhLnBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHdpbjogcCwgZG9jOiBwLmRvYyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpZnJhbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBmcmFtZUlkID0gc2V0dGluZ3MuaWQ7XG4gICAgICAgICAgICBsZXQgaWZyYW1lU3R5bGUgPSAnYm9yZGVyOjA7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MHB4O2hlaWdodDowcHg7cmlnaHQ6MHB4O3RvcDowcHg7JztcbiAgICAgICAgICAgIGxldCBpZnJhbWU7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgICAgICQoaWZyYW1lKS5hdHRyKHsgc3R5bGU6IGlmcmFtZVN0eWxlLCBpZDogZnJhbWVJZCwgc3JjOiBcIiNcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpIH0pO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5kb2MgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5kb2MgPSBpZnJhbWUuY29udGVudERvY3VtZW50ID8gaWZyYW1lLmNvbnRlbnREb2N1bWVudCA6IChpZnJhbWUuY29udGVudFdpbmRvdyA/IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50IDogaWZyYW1lLmRvY3VtZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlICsgJy4gaWZyYW1lcyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlmcmFtZS5kb2MgPT0gbnVsbCkgdGhyb3cgXCJDYW5ub3QgZmluZCBkb2N1bWVudC5cIjtcblxuICAgICAgICAgICAgcmV0dXJuIGlmcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgcG9wdXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCB3aW5kb3dBdHRyID0gXCJsb2NhdGlvbj15ZXMsc3RhdHVzYmFyPW5vLGRpcmVjdG9yaWVzPW5vLG1lbnViYXI9bm8sdGl0bGViYXI9bm8sdG9vbGJhcj1ubyxkZXBlbmRlbnQ9bm9cIjtcbiAgICAgICAgICAgIHdpbmRvd0F0dHIgKz0gXCIsd2lkdGg9XCIgKyBzZXR0aW5ncy5wb3BXZCArIFwiLGhlaWdodD1cIiArIHNldHRpbmdzLnBvcEh0O1xuICAgICAgICAgICAgd2luZG93QXR0ciArPSBcIixyZXNpemFibGU9eWVzLHNjcmVlblg9XCIgKyBzZXR0aW5ncy5wb3BYICsgXCIsc2NyZWVuWT1cIiArIHNldHRpbmdzLnBvcFkgKyBcIixwZXJzb25hbGJhcj1ubyxzY3JvbGxiYXJzPXllc1wiO1xuXG4gICAgICAgICAgICBsZXQgbmV3V2luID0gd2luZG93Lm9wZW4oXCJcIiwgXCJfYmxhbmtcIiwgd2luZG93QXR0cik7XG4gICAgICAgICAgICBuZXdXaW4uZG9jID0gbmV3V2luLmRvY3VtZW50O1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3V2luO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGxldCBTZ3lJQVMgPSB7XG4gICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgICAgX2xvZzogZnVuY3Rpb24gKG9iamVjdCkge30sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBjb25maWcgPSB7XG4gICAgICAgICAgICAgICAgaXRlbTogYWpheHNjcm9sbC5pdGVtLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogYWpheHNjcm9sbC5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgbmV4dDogYWpheHNjcm9sbC5uZXh0LFxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IGFqYXhzY3JvbGwucGFnaW5hdGlvbixcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXI6IGFqYXhzY3JvbGwucGFyYW1ldGVyLFxuICAgICAgICAgICAgICAgIGRlbGF5OiA2MDAsXG4gICAgICAgICAgICAgICAgbmVnYXRpdmVNYXJnaW46IGFqYXhzY3JvbGwubmVnYXRpdmVNYXJnaW4sXG4gICAgICAgICAgICAgICAgaGlzdG9yeToge1xuICAgICAgICAgICAgICAgICAgICBwcmV2OiAnLnByZXYnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBub25lbGVmdDoge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhamF4c2Nyb2xsLm5vbmVUZXh0LFxuICAgICAgICAgICAgICAgICAgICBodG1sOiAnPGRpdiBjbGFzcz1cImlhcy1ub25lbGVmdFwiPnt0ZXh0fTwvZGl2PidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNwaW5uZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBhamF4c2Nyb2xsLmxvYWRlclNyYyxcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogJzxkaXYgY2xhc3M9XCJpYXMtc3Bpbm5lclwiPjxpbWcgc3JjPVwie3NyY31cIi8+JyArIGFqYXhzY3JvbGwubG9hZGVySHRtbCArICc8L2Rpdj4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGFqYXhzY3JvbGwudHJpZ2dlclRleHQsXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6ICc8ZGl2IGNsYXNzPVwiaWFzLXRyaWdnZXIgaWFzLXRyaWdnZXItbmV4dFwiPjxhPnt0ZXh0fTwvYT48L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0UHJldjogYWpheHNjcm9sbC50ZXh0UHJldixcbiAgICAgICAgICAgICAgICAgICAgaHRtbFByZXY6ICc8ZGl2IGNsYXNzPVwiaWFzLXRyaWdnZXIgaWFzLXRyaWdnZXItcHJldlwiPjxhPnt0ZXh0fTwvYT48L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGFqYXhzY3JvbGwub2Zmc2V0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5pYXNfY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgJC5leHRlbmQoY29uZmlnLCB3aW5kb3cuaWFzX2NvbmZpZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFNneUlBUy5fbG9nKHsgZXh0ZW5zaW9uOiAnaWFzJywgY29uZmlnOiBjb25maWcgfSk7XG4gICAgICAgICAgICB3aW5kb3cuaWFzID0gJC5pYXMoY29uZmlnKTtcblxuICAgICAgICAgICAgU2d5SUFTLl9sb2coeyBleHRlbnNpb246ICdwYWdpbmcnIH0pO1xuICAgICAgICAgICAgd2luZG93Lmlhcy5leHRlbnNpb24obmV3IElBU1BhZ2luZ0V4dGVuc2lvbigpKTtcblxuICAgICAgICAgICAgU2d5SUFTLl9sb2coeyBleHRlbnNpb246ICdzcGlubmVyJyB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5pYXMuZXh0ZW5zaW9uKG5ldyBJQVNTcGlubmVyRXh0ZW5zaW9uKGNvbmZpZy5zcGlubmVyKSk7XG5cbiAgICAgICAgICAgIFNneUlBUy5fbG9nKHsgZXh0ZW5zaW9uOiAnbm9uZWxlZnQnIH0pO1xuICAgICAgICAgICAgd2luZG93Lmlhcy5leHRlbnNpb24obmV3IElBU05vbmVMZWZ0RXh0ZW5zaW9uKGNvbmZpZy5ub25lbGVmdCkpO1xuXG4gICAgICAgICAgICBTZ3lJQVMuX2xvZyh7IGV4dGVuc2lvbjogJ3RyaWdnZXInIH0pO1xuICAgICAgICAgICAgd2luZG93Lmlhcy5leHRlbnNpb24obmV3IElBU1RyaWdnZXJFeHRlbnNpb24oY29uZmlnLnRyaWdnZXIpKTtcblxuICAgICAgICAgICAgd2luZG93Lmlhcy5vbignc2Nyb2xsJywgZnVuY3Rpb24gKHNjcm9sbE9mZnNldCwgc2Nyb2xsVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgU2d5SUFTLl9sb2coeyBldmVudE5hbWU6ICdzY3JvbGwnLCBzY3JvbGxPZmZzZXQ6IHNjcm9sbE9mZnNldCwgc2Nyb2xsVGhyZXNob2xkOiBzY3JvbGxUaHJlc2hvbGQgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd2luZG93Lmlhcy5vbignbG9hZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIFNneUlBUy5fbG9nKHsgZXZlbnROYW1lOiAnbG9hZCcsIGV2ZW50OiBldmVudCB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aW5kb3cuaWFzLm9uKCdsb2FkZWQnLCBmdW5jdGlvbiAoZGF0YSwgaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBTZ3lJQVMuX2xvZyh7IGV2ZW50TmFtZTogJ2xvYWRlZCcsIGRhdGE6IGRhdGEsIGl0ZW1zOiBpdGVtcyB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aW5kb3cuaWFzLm9uKCdyZW5kZXInLCBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBTZ3lJQVMuX2xvZyh7IGV2ZW50TmFtZTogJ3JlbmRlcicsIGl0ZW1zOiBpdGVtcyB9KTtcbiAgICAgICAgICAgICAgICAkKGl0ZW1zKS5maW5kKCcubGF6eScpLmxhenlsb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBsYXp5UGFyYW1zLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VmVydGljYWw6IGxhenlQYXJhbXMub2Zmc2V0VmVydGljYWwsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldEhvcml6b250YWw6IGxhenlQYXJhbXMub2Zmc2V0SG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0VG9wOiBsYXp5UGFyYW1zLm9mZnNldFRvcCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Qm90dG9tOiBsYXp5UGFyYW1zLm9mZnNldEJvdHRvbSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdDogbGF6eVBhcmFtcy5vZmZzZXRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRSaWdodDogbGF6eVBhcmFtcy5vZmZzZXRSaWdodCxcbiAgICAgICAgICAgICAgICAgICAgdGhyb3R0bGU6IGxhenlQYXJhbXMudGhyb3R0bGUsXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjOiBsYXp5UGFyYW1zLmVmZmVjdCxcbiAgICAgICAgICAgICAgICAgICAgZGVib3VuY2U6IGxhenlQYXJhbXMuZGVib3VuY2UsXG4gICAgICAgICAgICAgICAgICAgIHVubG9hZDogbGF6eVBhcmFtcy51bmxvYWQsXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiBsYXp5UGFyYW1zLmRlbGF5LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGVsZW1lbnQsIG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLnJlbW92ZUNsYXNzKCdsYXp5JykuYWRkQ2xhc3MoJ2xvYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd2luZG93Lmlhcy5vbignbm9uZUxlZnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgU2d5SUFTLl9sb2coeyBldmVudE5hbWU6ICdub25lTGVmdCcgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd2luZG93Lmlhcy5vbignbmV4dCcsIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgICAgICBTZ3lJQVMuX2xvZyh7IGV2ZW50TmFtZTogJ25leHQnLCB1cmw6IHVybCB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aW5kb3cuaWFzLm9uKCdyZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBTZ3lJQVMuX2xvZyh7IGV2ZW50TmFtZTogJ3JlYWR5JyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmIChhamF4c2Nyb2xsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgU2d5SUFTLmluaXQoKTtcbiAgICB9XG5cbiAgICAkLmZuLnNpbXVsYXRlU2VsZWN0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgZXZlbnQ6ICdjbGljaycsXG4gICAgICAgICAgICB0YXJnZXQ6ICcjc29ydGVyJ1xuICAgICAgICB9O1xuXG4gICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIGxldCBlbGVtZW50ID0gJCh0aGlzKTtcblxuICAgICAgICBlbGVtZW50Lm9uKG9wdGlvbnMuZXZlbnQsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgX3RoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmZpbmQob3B0aW9ucy5jb250YWluZXIpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5maW5kKG9wdGlvbnMuY29udGFpbmVyKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudC5vbihvcHRpb25zLmV2ZW50LCBvcHRpb25zLmNvbnRhaW5lciArICc+IGxpJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBsZXQgcCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCdwJyk7XG4gICAgICAgICAgICBsZXQgX25vZGUgPSBwLnRleHQoKTtcbiAgICAgICAgICAgIGxldCBfa2V5ID0gcC5hdHRyKCdrZXknKTtcbiAgICAgICAgICAgIGVsZW1lbnQuZmluZChvcHRpb25zLmxpbmspLnRleHQoX25vZGUpO1xuICAgICAgICAgICAgZWxlbWVudC5maW5kKG9wdGlvbnMuY29udGFpbmVyKS5oaWRlKCk7XG4gICAgICAgICAgICAkKG9wdGlvbnMudGFyZ2V0KS5maW5kKCdvcHRpb25bdmFsdWU9XCInICsgX2tleSArICdcIl0nKS5hdHRyKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICAgICAgJChvcHRpb25zLnRhcmdldCkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkLmZseSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlLFxuICAgICAgICAgICAgdmVydGV4X1J0b3A6IDIwLFxuICAgICAgICAgICAgc3BlZWQ6IDEuMixcbiAgICAgICAgICAgIHN0YXJ0OiB7fSxcbiAgICAgICAgICAgIGVuZDoge30sXG4gICAgICAgICAgICBvbkVuZDogJC5ub29wXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAhIXRoaXMuc2V0dGluZ3MuYXV0b1BsYXkgJiYgdGhpcy5wbGF5KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBzdGFydCA9IHNldHRpbmdzLnN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZCA9IHNldHRpbmdzLmVuZDtcblxuICAgICAgICAgICAgJGVsZW1lbnQuY3NzKHsgbWFyZ2luVG9wOiAnMHB4JywgbWFyZ2luTGVmdDogJzBweCcsIHBvc2l0aW9uOiAnZml4ZWQnIH0pLmFwcGVuZFRvKCdib2R5Jyk7XG4gICAgICAgICAgICBpZiAoZW5kLndpZHRoICE9IG51bGwgJiYgZW5kLmhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgJC5leHRlbmQodHJ1ZSwgc3RhcnQsIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICRlbGVtZW50LndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJGVsZW1lbnQuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZlcnRleF90b3AgPSBNYXRoLm1pbihzdGFydC50b3AsIGVuZC50b3ApIC0gTWF0aC5hYnMoc3RhcnQubGVmdCAtIGVuZC5sZWZ0KSAvIDM7XG4gICAgICAgICAgICBpZiAodmVydGV4X3RvcCA8IHNldHRpbmdzLnZlcnRleF9SdG9wKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4X3RvcCA9IE1hdGgubWluKHNldHRpbmdzLnZlcnRleF9SdG9wLCBNYXRoLm1pbihzdGFydC50b3AsIGVuZC50b3ApKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHN0YXJ0LnRvcCAtIGVuZC50b3AsIDIpICsgTWF0aC5wb3coc3RhcnQubGVmdCAtIGVuZC5sZWZ0LCAyKSksXG4gICAgICAgICAgICAgICAgc3RlcHMgPSBNYXRoLmNlaWwoTWF0aC5taW4oTWF0aC5tYXgoTWF0aC5sb2coZGlzdGFuY2UpIC8gMC4wNSAtIDc1LCAzMCksIDEwMCkgLyBzZXR0aW5ncy5zcGVlZCksXG4gICAgICAgICAgICAgICAgcmF0aW8gPSBzdGFydC50b3AgPT0gdmVydGV4X3RvcCA/IDAgOiAtTWF0aC5zcXJ0KChlbmQudG9wIC0gdmVydGV4X3RvcCkgLyAoc3RhcnQudG9wIC0gdmVydGV4X3RvcCkpLFxuICAgICAgICAgICAgICAgIHZlcnRleF9sZWZ0ID0gKHJhdGlvICogc3RhcnQubGVmdCAtIGVuZC5sZWZ0KSAvIChyYXRpbyAtIDEpLFxuICAgICAgICAgICAgICAgIGN1cnZhdHVyZSA9IGVuZC5sZWZ0ID09IHZlcnRleF9sZWZ0ID8gMCA6IChlbmQudG9wIC0gdmVydGV4X3RvcCkgLyBNYXRoLnBvdyhlbmQubGVmdCAtIHZlcnRleF9sZWZ0LCAyKTtcblxuICAgICAgICAgICAgJC5leHRlbmQodHJ1ZSwgc2V0dGluZ3MsIHtcbiAgICAgICAgICAgICAgICBjb3VudDogLTEsXG4gICAgICAgICAgICAgICAgc3RlcHM6IHN0ZXBzLFxuICAgICAgICAgICAgICAgIHZlcnRleF9sZWZ0OiB2ZXJ0ZXhfbGVmdCxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhfdG9wOiB2ZXJ0ZXhfdG9wLFxuICAgICAgICAgICAgICAgIGN1cnZhdHVyZTogY3VydmF0dXJlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLm1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gc2V0dGluZ3Muc3RhcnQsXG4gICAgICAgICAgICAgICAgY291bnQgPSBzZXR0aW5ncy5jb3VudCxcbiAgICAgICAgICAgICAgICBzdGVwcyA9IHNldHRpbmdzLnN0ZXBzLFxuICAgICAgICAgICAgICAgIGVuZCA9IHNldHRpbmdzLmVuZDtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gc3RhcnQubGVmdCArIChlbmQubGVmdCAtIHN0YXJ0LmxlZnQpICogY291bnQgLyBzdGVwcyxcbiAgICAgICAgICAgICAgICB0b3AgPSBzZXR0aW5ncy5jdXJ2YXR1cmUgPT0gMCA/IHN0YXJ0LnRvcCArIChlbmQudG9wIC0gc3RhcnQudG9wKSAqIGNvdW50IC8gc3RlcHMgOiBzZXR0aW5ncy5jdXJ2YXR1cmUgKiBNYXRoLnBvdyhsZWZ0IC0gc2V0dGluZ3MudmVydGV4X2xlZnQsIDIpICsgc2V0dGluZ3MudmVydGV4X3RvcDtcbiAgICAgICAgICAgIGlmIChlbmQud2lkdGggIT0gbnVsbCAmJiBlbmQuaGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IHN0ZXBzIC8gMixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBlbmQud2lkdGggLSAoZW5kLndpZHRoIC0gc3RhcnQud2lkdGgpICogTWF0aC5jb3MoY291bnQgPCBpID8gMCA6IChjb3VudCAtIGkpIC8gKHN0ZXBzIC0gaSkgKiBNYXRoLlBJIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGVuZC5oZWlnaHQgLSAoZW5kLmhlaWdodCAtIHN0YXJ0LmhlaWdodCkgKiBNYXRoLmNvcyhjb3VudCA8IGkgPyAwIDogKGNvdW50IC0gaSkgLyAoc3RlcHMgLSBpKSAqIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5jc3MoeyB3aWR0aDogd2lkdGggKyAncHgnLCBoZWlnaHQ6IGhlaWdodCArICdweCcsICdmb250LXNpemUnOiBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSArICdweCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkZWxlbWVudC5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQgKyAncHgnLFxuICAgICAgICAgICAgICAgIHRvcDogdG9wICsgJ3B4J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXR0aW5ncy5jb3VudCsrO1xuICAgICAgICAgICAgbGV0IHRpbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCQucHJveHkodGhpcy5tb3ZlLCB0aGlzKSk7XG4gICAgICAgICAgICBpZiAoY291bnQgPT0gc3RlcHMpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGltZSk7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Mub25FbmQuYXBwbHkodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5pbml0KG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAkLmZuLmZseSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PSAkKHRoaXMpLmRhdGEoJ2ZseScpKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdmbHknLCBuZXcgJC5mbHkodGhpcywgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJCgnLmxpbmstZmFxJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgdmFyICRmYXEgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50KCk7XG5cbiAgICAgICAgaWYgKCRmYXEuaGFzQ2xhc3MoJ29wZW4nKSkge1xuICAgICAgICAgICAgJGZhcS5maW5kKCcubWVudScpLnNsaWRlVXAoJ3Nsb3cnKTtcbiAgICAgICAgICAgICRmYXEucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRmYXEuZmluZCgnLm1lbnUnKS5zbGlkZURvd24oJ3Nsb3cnKTtcbiAgICAgICAgICAgICRmYXEuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLm9wZW4tZmlsdGVyJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgdmFyICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgICAgIGlmICgkdGhpcy5wYXJlbnQoKS5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgICAgICAgJHRoaXMucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3NsaWRlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcygnc2xpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnNvcnRlci1maWx0ZXInKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICB2YXIgJHNpZGViYXIgPSAkKCcuc2lkZWJhcicpO1xuXG4gICAgICAgIGlmICgkc2lkZWJhci5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgICAgICAgJHNpZGViYXIucmVtb3ZlQ2xhc3MoJ3NsaWRlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2lkZWJhci5hZGRDbGFzcygnc2xpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLmNsb3NlLWZpbHRlcicpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICQoJy5zaWRlYmFyJykucmVtb3ZlQ2xhc3MoJ3NsaWRlJyk7XG4gICAgfSk7XG5cbiAgICAkKCcubXlib2FyZC1saW5rJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgdmFyICRlbCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKTtcblxuICAgICAgICBpZiAoJGVsLmhhc0NsYXNzKCdib2FyZC1jb2xsYXBzZScpKSB7XG4gICAgICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoJ2JvYXJkLWNvbGxhcHNlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkZWwuYWRkQ2xhc3MoJ2JvYXJkLWNvbGxhcHNlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJy5mb290ZXItbGlua3MnKS5vbignY2xpY2snLCAnLml0ZW0nLCAoZSkgPT4ge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdvcGVuJykpIHtcbiAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcuZHJvcCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIHZhciAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKS5wYXJlbnQoKTtcblxuICAgICAgICBpZiAoJHRoaXMuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJy52YWx1ZXMnKS5vbignY2xpY2snLCAnLmxiJywgKGUpID0+IHtcbiAgICAgICAgdmFyICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpO1xuXG4gICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygnb24nKSkge1xuICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnb24nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnNob3ctYWxsJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgfSk7XG5cbiAgICAkKCcuYnRuLXF1aWNrJykub24oJ2NsaWNrJywgJy5jYXJ0JywgKGUpID0+IHtcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdycpO1xuICAgIH0pO1xuXG4gICAgJCgnLmJ0bi1xdWljaycpLm9uKCdjbGljaycsICcuY2hlY2tvdXQnLCAoZSkgPT4ge1xuICAgICAgICBsZXQgJGZvcm0gPSAkKCcucXVpY2stYWRkIGZvcm0nKTtcbiAgICAgICAgbGV0ICRpbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNoZWNrb3V0XCIgdmFsdWU9XCIxXCIgLz4nKTtcbiAgICAgICAgJGlucHV0LmFwcGVuZFRvKCRmb3JtKTtcblxuICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ292ZXJmbG93Jyk7XG4gICAgfSk7XG5cbiAgICAkKCcuYnRuLWdyb3VwJykub24oJ2NsaWNrJywgJy5jYW5jZWwnLCAoZSkgPT4ge1xuICAgICAgICBsZXQgJGZvcm0gPSAkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnZm9ybScpO1xuICAgICAgICAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPWNoZWNrb3V0XScpLnJlbW92ZSgpO1xuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93Jyk7XG4gICAgfSk7XG5cbiAgICAkKCcuYWN0aW9uLnBvcCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGxldCAkcXVpY2sgPSAkKCcucXVpY2stYWRkJyk7XG5cbiAgICAgICAgaWYgKCRxdWljay5oYXNDbGFzcygnY2xvc2UnKSkge1xuICAgICAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCdjbCcpO1xuICAgICAgICAgICAgJHF1aWNrLnNsaWRlRG93bigpLnJlbW92ZUNsYXNzKCdjbG9zZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCdjbCcpO1xuICAgICAgICAgICAgJHF1aWNrLnNsaWRlVXAoKS5hZGRDbGFzcygnY2xvc2UnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnNvcnRlci1zaW11bGF0ZScpLnNpbXVsYXRlU2VsZWN0KHtcbiAgICAgICAgbGluazogJ2NpdGUnLFxuICAgICAgICBjb250YWluZXI6ICcuc29ydGVyLWxheWVyJ1xuICAgIH0pO1xuXG4gICAgJCgnLmFjdGlvbi50b2NoZWNrb3V0Jykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgbGV0ICRmb3JtID0gJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJ2Zvcm0nKTtcbiAgICAgICAgbGV0ICRpbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNoZWNrb3V0XCIgdmFsdWU9XCIxXCIgLz4nKTtcbiAgICAgICAgJGlucHV0LmFwcGVuZFRvKCRmb3JtKTtcbiAgICAgICAgJGZvcm0uYWRkQ2xhc3MoJ2NoZWNrb3V0Jykuc3VibWl0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcucmVhZC1tb3JlJykub24oJ21vdXNlZW50ZXInLCAoZSkgPT4ge1xuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkubmV4dCgpLmFkZENsYXNzKCdzaG93Jyk7XG4gICAgfSkub24oJ21vdXNlbGVhdmUnLCAoZSkgPT4ge1xuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkubmV4dCgpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgfSk7XG5cbiAgICBsZXQgYmFubmVyUmVzaXplID0gKCkgPT4ge1xuICAgICAgICBsZXQgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBsZXQgaW1hZ2VzID0gJCgnLmJhbm5lci1pbWcnKTtcblxuICAgICAgICAkLmVhY2goaW1hZ2VzLCBmdW5jdGlvbihrLCBpbWcpIHtcbiAgICAgICAgICAgIGxldCB1cmwgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodyA8PSA3NjcpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSAkKGltZykuZGF0YSgnbW9iaWxlJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHcgPiA3NjcgJiYgdyA8PSAxMDI0KSB7XG4gICAgICAgICAgICAgICAgdXJsID0gJChpbWcpLmRhdGEoJ3BhZCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmwgPSAkKGltZykuZGF0YSgncGMnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJChpbWcpLmF0dHIoJ3NyYycsIHVybCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBiYW5uZXJSZXNpemUoKTtcblxuICAgICQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgICAgICBiYW5uZXJSZXNpemUoKTtcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93Ll9fbGMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxldCBsYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBsZXQgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07IFxuICAgICAgICBsYy5hc3luYyA9IHRydWU7XG4gICAgICAgIGxjLnNyYyA9IHdpbmRvdy5fX2xjLnVybDtcbiAgICAgICAgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsYywgcyk7XG4gICAgfVxuXG4gICAgaWYgKHB3YS5lbmFibGVkID09ICcxJykge1xuICAgICAgICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIocHdhLmJhc2VVcmwgKyAnc2VydmljZVdvcmtlci5qcycpLnRoZW4oZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGZ1bmN0aW9uIHN1YnNjcmliZXJUb3BpYygpIHtcbiAgICAgICAgICAgIGZpcmViYXNlLm1lc3NhZ2luZygpLmdldFRva2VuKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoY3VycmVudFRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJVcmwgPSAnaHR0cHM6Ly9paWQuZ29vZ2xlYXBpcy5jb20vaWlkL3YxLycgKyBjdXJyZW50VG9rZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcHdhLmFqYXhVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge3N1YlVybDogc3ViVXJsfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYW5ub3QgZ2V0IGRhdGFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gSW5zdGFuY2UgSUQgdG9rZW4gYXZhaWxhYmxlLiBSZXF1ZXN0IHBlcm1pc3Npb24gdG8gZ2VuZXJhdGUgb25lLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyB0b2tlbi4gJywgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlciAmJiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeS50aGVuKGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5zdGFsbHByb21wdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS51c2VyQ2hvaWNlLnRoZW4oZnVuY3Rpb24gKGNob2ljZVJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaG9pY2VSZXN1bHQub3V0Y29tZSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaG9pY2VSZXN1bHQub3V0Y29tZSA9PT0gJ2Rpc21pc3NlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGNhbmNlbGxlZCBob21lIHNjcmVlbiBpbnN0YWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciBhZGRlZCB0byBob21lIHNjcmVlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgIGZpcmViYXNlLm1lc3NhZ2luZygpLnVzZVNlcnZpY2VXb3JrZXIoc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbik7XG4gICAgICAgICAgICBmaXJlYmFzZS5tZXNzYWdpbmcoKS5yZXF1ZXN0UGVybWlzc2lvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm90aWZpY2F0aW9uIHBlcm1pc3Npb24gZ3JhbnRlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlclRvcGljKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5hYmxlIHRvIGdldCBwZXJtaXNzaW9uIHRvIG5vdGlmeS4nLCBlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgZmlyZWJhc2UubWVzc2FnaW5nKCkub25NZXNzYWdlKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNZXNzYWdlIHJlY2VpdmVkLiBcIik7XG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQubm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RpZmljYXRpb25UaXRsZSA9IHBheWxvYWQubm90aWZpY2F0aW9uLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHBheWxvYWQubm90aWZpY2F0aW9uLmJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBwYXlsb2FkLm5vdGlmaWNhdGlvbi5pY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2U6IHBheWxvYWQubm90aWZpY2F0aW9uLmljb25cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvblRpdGxlLCBub3RpZmljYXRpb25PcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7Il19
