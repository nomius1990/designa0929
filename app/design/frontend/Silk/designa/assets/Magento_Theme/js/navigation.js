define(["jquery","jquery/ui"],function(t,n){"use strict";var e,i=function(t){{if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}}(t);(e=n)&&e.__esModule;i(function(){return i.widget("caesar.navigation",{options:{responsive:null,activeLink:"li.level-top",searchLink:".action.search",closeLink:".link-close",inputContainer:".link-input",minicart:".action.showcart",closeCart:".action.close",toggleNav:".nav-toggle",navLink:".link-toggle",topmenuLink:".level1 > p"},_create:function(){this.element.on("mouseenter",this.options.activeLink,i.proxy(function(t){var n=i(t.currentTarget);n.hasClass("level-top")&&!n.hasClass("over")&&n.addClass("over")},this)).on("mouseleave",this.options.activeLink,i.proxy(function(t){var n=i(t.currentTarget);n.hasClass("level-top")&&n.removeClass("over")},this)),this.element.on("mouseenter",this.options.topmenuLink,i.proxy(function(t){var n=i(t.currentTarget),e=n.parent(),o=n.find(".color").data("src"),a=i(".thumbnail img");""!=o&&a.attr("src",o),e.removeClass("first").siblings().removeClass("first"),e.addClass("active").siblings().removeClass("active")},this)),this._bindEvent()},_bindEvent:function(){i(this.options.searchLink).on("click",function(t){i(".auto-search").addClass("auto")}),i(this.options.closeLink).on("click",function(t){i(".auto-search").removeClass("auto")}),i(this.options.toggleNav).on("click",function(t){i(".nav-sections").addClass("show"),i(".nav-layer").addClass("on")}),i(this.options.inputContainer).on("focus",function(t){i(".auto-search").addClass("focus")}).on("blur",function(t){i(".auto-search").removeClass("focus")}),i(this.options.minicart).on("click",function(t){i(".minicart-wrapper").addClass("active"),i(".mini-layer").addClass("on")}),i(".mini-layer").on("click",function(t){i(".minicart-wrapper").removeClass("active"),i(t.currentTarget).removeClass("on")}),i(this.options.navLink).on("click",function(t){var n=i(t.currentTarget);n.hasClass("on")?(n.parent().next().hide(),n.removeClass("on")):(n.parent().next().show(),n.addClass("on"))}),i(".nav.close").on("click",function(t){i(".nav-sections").removeClass("show"),i(".nav-layer").removeClass("on")}),i(".nav-layer").on("click",function(t){i(".nav-sections").removeClass("show"),i(t.currentTarget).removeClass("on")}),i("body").on("click",this.options.closeCart,function(t){t.stopPropagation(),i(".minicart-wrapper").removeClass("active"),i(".mini-layer").removeClass("on")}),i(".product-item-photo").on("mouseenter",function(t){var n=i(t.currentTarget).find("img"),e=n.data("hover"),o=n.data("loader");e&&(n.attr("src",o),setTimeout(function(){n.attr("src",e)},500))}).on("mouseleave",function(t){var n=i(t.currentTarget).find("img"),e=n.data("hover"),o=n.data("loader");e&&(n.attr("src",o),setTimeout(function(){n.attr("src",n.data("init"))},500))}),i(".section-item-title").on("click",function(t){var n=i(t.currentTarget);i(".section-item-title").removeClass("active"),i(".section-item-content").removeClass("active"),n.addClass("active"),n.next().addClass("active")})}}),i.caesar.navigation})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnYXRpb24uZXM2LmpzIl0sIm5hbWVzIjpbIiQiLCJzZXRUaW1lb3V0Iiwid2lkZ2V0Iiwib3B0aW9ucyIsInJlc3BvbnNpdmUiLCJhY3RpdmVMaW5rIiwic2VhcmNoTGluayIsImNsb3NlTGluayIsImlucHV0Q29udGFpbmVyIiwibWluaWNhcnQiLCJjbG9zZUNhcnQiLCJ0b2dnbGVOYXYiLCJuYXZMaW5rIiwidG9wbWVudUxpbmsiLCJfY3JlYXRlIiwidGhpcyIsImVsZW1lbnQiLCJvbiIsInByb3h5IiwiZSIsIiRjdXJyZW50IiwiY3VycmVudFRhcmdldCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInBhcmVudCIsImZpbmQiLCJkYXRhIiwiJHVybCIsInNpYmxpbmdzIiwiJHBhcmVudCIsIl9iaW5kRXZlbnQiLCJuZXh0IiwiaGlkZSIsIiRsb2FkZXIiLCJhdHRyIiwiJGhvdmVyIl0sIm1hcHBpbmdzIjoiK0RBQVlBLG1MQUdaQSxFQUFFLFdBMEdrQkMsT0F6R2hCRCxFQUFFRSxPQUFPLG9CQUFxQixDQUMxQkMsUUFBUyxDQUNMQyxXQUFZLEtBQ1pDLFdBQVksZUFDWkMsV0FBWSxpQkFDWkMsVUFBVyxjQUNYQyxlQUFnQixjQUNoQkMsU0FBVSxtQkFDVkMsVUFBVyxnQkFDWEMsVUFBVyxjQUNYQyxRQUFTLGVBQ1RDLFlBQWEsZUFFakJDLFFBQVMsV0FDTEMsS0FBS0MsUUFBUUMsR0FBRyxhQUFjRixLQUFLWixRQUFRRSxXQUFZTCxFQUFFa0IsTUFBTSxTQUFDQyxHQUM1RCxJQUFJQyxFQUFXcEIsRUFBRW1CLEVBQUVFLGVBQ2ZELEVBQVNFLFNBQVMsZUFBaUJGLEVBQVNFLFNBQVMsU0FDckRGLEVBQVNHLFNBQVMsU0FFdkJSLE9BQU9FLEdBQUcsYUFBY0YsS0FBS1osUUFBUUUsV0FBWUwsRUFBRWtCLE1BQU0sU0FBQ0MsR0FDekQsSUFBSUMsRUFBV3BCLEVBQUVtQixFQUFFRSxlQUNmRCxFQUFTRSxTQUFTLGNBQ2xCRixF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QSxVQStCVyxRQXZCUDNCLEVBQUFBLHVCQUFpQndCLEdBQUFBLFFBQVksU0FBQUwsR0FDaEMsSUFKREMsRUFBQXBCLEVBQUFtQixFQUFBRSxlQWdDSXJCLEVBQUUsdUJBQXVCd0IsWUFBWSxVQTFCekN4QixFQUFFLHlCQUFGd0IsWUFBNEIsVUFDeEJKLEVBQUlBLFNBQUFBLFVBQ0pBLEVBQUlRLE9BQU9SLFNBQVNPLGVBS2hCMUIsRUFBQUEsT0FBQUEiLCJmaWxlIjoiTWFnZW50b19UaGVtZS93ZWIvanMvbmF2aWdhdGlvbi5lczYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgdWkgZnJvbSAnanF1ZXJ5L3VpJztcblxuJCgoKSA9PiB7XG4gICAgJC53aWRnZXQoJ2NhZXNhci5uYXZpZ2F0aW9uJywge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICByZXNwb25zaXZlOiBudWxsLFxuICAgICAgICAgICAgYWN0aXZlTGluazogJ2xpLmxldmVsLXRvcCcsXG4gICAgICAgICAgICBzZWFyY2hMaW5rOiAnLmFjdGlvbi5zZWFyY2gnLFxuICAgICAgICAgICAgY2xvc2VMaW5rOiAnLmxpbmstY2xvc2UnLFxuICAgICAgICAgICAgaW5wdXRDb250YWluZXI6ICcubGluay1pbnB1dCcsXG4gICAgICAgICAgICBtaW5pY2FydDogJy5hY3Rpb24uc2hvd2NhcnQnLFxuICAgICAgICAgICAgY2xvc2VDYXJ0OiAnLmFjdGlvbi5jbG9zZScsXG4gICAgICAgICAgICB0b2dnbGVOYXY6ICcubmF2LXRvZ2dsZScsXG4gICAgICAgICAgICBuYXZMaW5rOiAnLmxpbmstdG9nZ2xlJyxcbiAgICAgICAgICAgIHRvcG1lbnVMaW5rOiAnLmxldmVsMSA+IHAnLFxuICAgICAgICB9LFxuICAgICAgICBfY3JlYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQub24oJ21vdXNlZW50ZXInLCB0aGlzLm9wdGlvbnMuYWN0aXZlTGluaywgJC5wcm94eSgoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCAkY3VycmVudCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoJGN1cnJlbnQuaGFzQ2xhc3MoJ2xldmVsLXRvcCcpICYmICEkY3VycmVudC5oYXNDbGFzcygnb3ZlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50LmFkZENsYXNzKCdvdmVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcykpLm9uKCdtb3VzZWxlYXZlJywgdGhpcy5vcHRpb25zLmFjdGl2ZUxpbmssICQucHJveHkoKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgJGN1cnJlbnQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKCRjdXJyZW50Lmhhc0NsYXNzKCdsZXZlbC10b3AnKSkge1xuICAgICAgICAgICAgICAgICAgICAkY3VycmVudC5yZW1vdmVDbGFzcygnb3ZlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpKTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm9uKCdtb3VzZWVudGVyJywgdGhpcy5vcHRpb25zLnRvcG1lbnVMaW5rLCAkLnByb3h5KChlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0ICRjdXJyZW50ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIGxldCAkcGFyZW50ID0gJGN1cnJlbnQucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgbGV0ICR1cmwgPSAkY3VycmVudC5maW5kKCcuY29sb3InKS5kYXRhKCdzcmMnKTtcbiAgICAgICAgICAgICAgICBsZXQgJGltZyA9ICQoJy50aHVtYm5haWwgaW1nJyk7XG4gICAgICAgICAgICAgICAgaWYgKCR1cmwgIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgJGltZy5hdHRyKCdzcmMnLCAkdXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnZmlyc3QnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdmaXJzdCcpO1xuICAgICAgICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSwgdGhpcykpO1xuXG4gICAgICAgICAgICB0aGlzLl9iaW5kRXZlbnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2JpbmRFdmVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMuc2VhcmNoTGluaykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAkKCcuYXV0by1zZWFyY2gnKS5hZGRDbGFzcygnYXV0bycpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLmNsb3NlTGluaykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAkKCcuYXV0by1zZWFyY2gnKS5yZW1vdmVDbGFzcygnYXV0bycpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLnRvZ2dsZU5hdikub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAkKCcubmF2LXNlY3Rpb25zJykuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICAkKCcubmF2LWxheWVyJykuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMuaW5wdXRDb250YWluZXIpLm9uKCdmb2N1cycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgJCgnLmF1dG8tc2VhcmNoJykuYWRkQ2xhc3MoJ2ZvY3VzJyk7XG4gICAgICAgICAgICB9KS5vbignYmx1cicsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgJCgnLmF1dG8tc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2ZvY3VzJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCh0aGlzLm9wdGlvbnMubWluaWNhcnQpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgJCgnLm1pbmljYXJ0LXdyYXBwZXInKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLm1pbmktbGF5ZXInKS5hZGRDbGFzcygnb24nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcubWluaS1sYXllcicpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgJCgnLm1pbmljYXJ0LXdyYXBwZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQodGhpcy5vcHRpb25zLm5hdkxpbmspLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0ICRjdXJyZW50ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRjdXJyZW50Lmhhc0NsYXNzKCdvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50LnBhcmVudCgpLm5leHQoKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50LnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50LnBhcmVudCgpLm5leHQoKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50LmFkZENsYXNzKCdvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcubmF2LmNsb3NlJykub24oJ2NsaWNrJyAsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgJCgnLm5hdi1zZWN0aW9ucycpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgICAgICAgJCgnLm5hdi1sYXllcicpLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJy5uYXYtbGF5ZXInKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICQoJy5uYXYtc2VjdGlvbnMnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICAgICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgdGhpcy5vcHRpb25zLmNsb3NlQ2FydCwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICQoJy5taW5pY2FydC13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5taW5pLWxheWVyJykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLnByb2R1Y3QtaXRlbS1waG90bycpLm9uKCdtb3VzZWVudGVyJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgJGN1cnJlbnQgPSAkKGUuY3VycmVudFRhcmdldCkuZmluZCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgbGV0ICR1cmwgPSAkY3VycmVudC5kYXRhKCdob3ZlcicpO1xuICAgICAgICAgICAgICAgIGxldCAkbG9hZGVyID0gJGN1cnJlbnQuZGF0YSgnbG9hZGVyJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHVybCkge1xuICAgICAgICAgICAgICAgICAgICAkY3VycmVudC5hdHRyKCdzcmMnLCAkbG9hZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY3VycmVudC5hdHRyKCdzcmMnLCAkdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5vbignbW91c2VsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0ICRjdXJyZW50ID0gJChlLmN1cnJlbnRUYXJnZXQpLmZpbmQoJ2ltZycpO1xuICAgICAgICAgICAgICAgIGxldCAkaG92ZXIgPSAkY3VycmVudC5kYXRhKCdob3ZlcicpO1xuICAgICAgICAgICAgICAgIGxldCAkbG9hZGVyID0gJGN1cnJlbnQuZGF0YSgnbG9hZGVyJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGhvdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICRjdXJyZW50LmF0dHIoJ3NyYycsICRsb2FkZXIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjdXJyZW50LmF0dHIoJ3NyYycsICRjdXJyZW50LmRhdGEoJ2luaXQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJy5zZWN0aW9uLWl0ZW0tdGl0bGUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCAkY3VycmVudCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAkKCcuc2VjdGlvbi1pdGVtLXRpdGxlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5zZWN0aW9uLWl0ZW0tY29udGVudCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkY3VycmVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJGN1cnJlbnQubmV4dCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gJC5jYWVzYXIubmF2aWdhdGlvbjtcbn0pOyJdfQ==
